<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenRTM: PeriodicTaskBase.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>PeriodicTaskBase.h</h1><a href="PeriodicTaskBase_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- C++ -*-</span>
<a name="l00020"></a>00020 <span class="comment"></span><span class="preprocessor">#ifndef COIL_PERIODICTASKBASE_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define COIL_PERIODICTASKBASE_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="TimeValue_8h.html">coil/TimeValue.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="TimeMeasure_8h.html" title="Periodic time measurement class.">coil/TimeMeasure.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Task_8h.html">coil/Task.h</a>&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>coil
<a name="l00028"></a>00028 {
<a name="l00042"></a><a class="code" href="classcoil_1_1TaskFuncBase.html">00042</a>   <span class="keyword">class </span><a class="code" href="classcoil_1_1TaskFuncBase.html" title="TaskFuncBase class.">TaskFuncBase</a>
<a name="l00043"></a>00043   {
<a name="l00044"></a>00044   <span class="keyword">public</span>:
<a name="l00060"></a><a class="code" href="classcoil_1_1TaskFuncBase.html#a656530ffec1c520d65cbdf097dedfaca">00060</a>     <span class="keyword">virtual</span> <a class="code" href="classcoil_1_1TaskFuncBase.html#a656530ffec1c520d65cbdf097dedfaca" title="Destructor.">~TaskFuncBase</a>() {}
<a name="l00061"></a>00061 
<a name="l00077"></a>00077     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1TaskFuncBase.html#a4160d1057520a3452ead66979d2c3596" title="Functor.">operator()</a>() = 0;
<a name="l00078"></a>00078   };
<a name="l00079"></a>00079   
<a name="l00093"></a>00093   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> F = <span class="keywordtype">int</span> (*)()&gt;
<a name="l00094"></a><a class="code" href="classcoil_1_1TaskFunc.html">00094</a>   <span class="keyword">class </span><a class="code" href="classcoil_1_1TaskFunc.html" title="TaskFunc template class.">TaskFunc</a>
<a name="l00095"></a>00095     : <span class="keyword">public</span> <a class="code" href="classcoil_1_1TaskFuncBase.html" title="TaskFuncBase class.">TaskFuncBase</a>
<a name="l00096"></a>00096   {
<a name="l00097"></a>00097   <span class="keyword">public</span>:
<a name="l00119"></a><a class="code" href="classcoil_1_1TaskFunc.html#a1410664ef96bd517ae8ab57f90beedf9">00119</a>     <a class="code" href="classcoil_1_1TaskFunc.html#a1410664ef96bd517ae8ab57f90beedf9" title="Constructor.">TaskFunc</a>(T* obj, F func)
<a name="l00120"></a>00120       : <a class="code" href="classcoil_1_1TaskFunc.html#ae959369ffe02cbc787c9e5849c91028f" title="object">m_obj</a>(obj), <a class="code" href="classcoil_1_1TaskFunc.html#af609c03a98edc37c2c1ef95825cf8684" title="function">m_func</a>(func)
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122     }
<a name="l00123"></a>00123 
<a name="l00139"></a><a class="code" href="classcoil_1_1TaskFunc.html#aa6fd4414acf37320347ed4e533009f23">00139</a>     <span class="keyword">virtual</span> <a class="code" href="classcoil_1_1TaskFunc.html#aa6fd4414acf37320347ed4e533009f23" title="Destructor.">~TaskFunc</a>() {}
<a name="l00140"></a>00140 
<a name="l00156"></a><a class="code" href="classcoil_1_1TaskFunc.html#a01e6194b5baa8ad84f23e26f85c544c7">00156</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1TaskFunc.html#a01e6194b5baa8ad84f23e26f85c544c7" title="Functor.">operator()</a>()
<a name="l00157"></a>00157     {
<a name="l00158"></a>00158       <span class="keywordflow">return</span> (<a class="code" href="classcoil_1_1TaskFunc.html#ae959369ffe02cbc787c9e5849c91028f" title="object">m_obj</a>-&gt;*<a class="code" href="classcoil_1_1TaskFunc.html#af609c03a98edc37c2c1ef95825cf8684" title="function">m_func</a>)();
<a name="l00159"></a>00159     }
<a name="l00160"></a>00160 
<a name="l00168"></a><a class="code" href="classcoil_1_1TaskFunc.html#ae959369ffe02cbc787c9e5849c91028f">00168</a>     T* <a class="code" href="classcoil_1_1TaskFunc.html#ae959369ffe02cbc787c9e5849c91028f" title="object">m_obj</a>;
<a name="l00169"></a>00169 
<a name="l00177"></a><a class="code" href="classcoil_1_1TaskFunc.html#af609c03a98edc37c2c1ef95825cf8684">00177</a>     F <a class="code" href="classcoil_1_1TaskFunc.html#af609c03a98edc37c2c1ef95825cf8684" title="function">m_func</a>;
<a name="l00178"></a>00178   };
<a name="l00179"></a>00179 
<a name="l00193"></a><a class="code" href="classcoil_1_1PeriodicTaskBase.html">00193</a>   <span class="keyword">class </span><a class="code" href="classcoil_1_1PeriodicTaskBase.html" title="PeriodicTaskBase class.">PeriodicTaskBase</a>
<a name="l00194"></a>00194     : <span class="keyword">public</span> coil::<a class="code" href="classcoil_1_1Task.html" title="Task class.">Task</a>
<a name="l00195"></a>00195   {
<a name="l00196"></a>00196   <span class="keyword">public</span>:
<a name="l00212"></a><a class="code" href="classcoil_1_1PeriodicTaskBase.html#a9ac3e837fc6d85bde48034f1d029b464">00212</a>     <span class="keyword">virtual</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a9ac3e837fc6d85bde48034f1d029b464" title="Destructor.">~PeriodicTaskBase</a>(){};
<a name="l00213"></a>00213 
<a name="l00229"></a>00229     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#ae3deb2c37063d35ad294bfbb07dafdba" title="Starting the task.">activate</a>() = 0;
<a name="l00230"></a>00230 
<a name="l00246"></a>00246     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a2e131861d53d1553d2bb12d7c5bbddf4" title="Finalizing the task.">finalize</a>() = 0;
<a name="l00247"></a>00247 
<a name="l00263"></a>00263     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a3868ef5fb39dcb023c3fade0a307898d" title="Suspending the task.">suspend</a>(<span class="keywordtype">void</span>) = 0;
<a name="l00264"></a>00264 
<a name="l00280"></a>00280     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#aed680b3484a799cf932f7c65188018b5" title="Resuming the suspended task.">resume</a>(<span class="keywordtype">void</span>) = 0;
<a name="l00281"></a>00281 
<a name="l00297"></a>00297     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a62746e37dadba8ce7af043d10993f246" title="Executing the suspended task one tick.">signal</a>() = 0;
<a name="l00298"></a>00298 
<a name="l00320"></a>00320     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a8a474e1d1471f106e67ee063dac3eba2" title="Setting task execution function.">setTask</a>(<a class="code" href="classcoil_1_1TaskFuncBase.html" title="TaskFuncBase class.">TaskFuncBase</a>* func, <span class="keywordtype">bool</span> delete_in_dtor = <span class="keyword">true</span>) = 0;
<a name="l00321"></a>00321 
<a name="l00347"></a>00347     <span class="keyword">template</span> &lt;<span class="keyword">class</span> O, <span class="keyword">class</span> F&gt;
<a name="l00348"></a><a class="code" href="classcoil_1_1PeriodicTaskBase.html#a5ad1174d04d2c01f1fb36bcc4ae84e38">00348</a>     <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a8a474e1d1471f106e67ee063dac3eba2" title="Setting task execution function.">setTask</a>(O* obj, F fun)
<a name="l00349"></a>00349     {
<a name="l00350"></a>00350       <span class="keywordflow">return</span> this-&gt;<a class="code" href="classcoil_1_1PeriodicTaskBase.html#a8a474e1d1471f106e67ee063dac3eba2" title="Setting task execution function.">setTask</a>(<span class="keyword">new</span> <a class="code" href="classcoil_1_1TaskFunc.html" title="TaskFunc template class.">TaskFunc&lt;O, F&gt;</a>(obj, fun));
<a name="l00351"></a>00351     }
<a name="l00352"></a>00352 
<a name="l00372"></a>00372     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a861a2d0e555d800179f8777b65fa053f" title="Setting task execution period.">setPeriod</a>(<span class="keywordtype">double</span> period) = 0;
<a name="l00373"></a>00373 
<a name="l00393"></a>00393     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a861a2d0e555d800179f8777b65fa053f" title="Setting task execution period.">setPeriod</a>(<a class="code" href="classcoil_1_1TimeValue.html" title="TimeValue class.">coil::TimeValue</a>&amp; period) = 0;
<a name="l00394"></a>00394 
<a name="l00414"></a>00414     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a969bd9f66f23c61202ce68f612e2569a" title="Validate a Task execute time measurement.">executionMeasure</a>(<span class="keywordtype">bool</span> value) = 0;
<a name="l00415"></a>00415 
<a name="l00435"></a>00435     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#af1f506c85ca94d5d0781fa3b060ecb77" title="Task execute time measurement period.">executionMeasureCount</a>(<span class="keywordtype">int</span> n) = 0;
<a name="l00436"></a>00436 
<a name="l00456"></a>00456     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#af4f2a4cace2e2cf8b37f733aeed03880" title="Validate a Task period time measurement.">periodicMeasure</a>(<span class="keywordtype">bool</span> value) = 0;
<a name="l00457"></a>00457 
<a name="l00477"></a>00477     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a0c5b0e9a6414138ed05fe6f138ab47ae" title="Task period time measurement count.">periodicMeasureCount</a>(<span class="keywordtype">int</span> n) = 0;
<a name="l00478"></a>00478 
<a name="l00494"></a>00494     <span class="keyword">virtual</span> <a class="code" href="structcoil_1_1TimeMeasure_1_1Statistics.html" title="Structure for time statistics.">coil::TimeMeasure::Statistics</a> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#adc1f0e6d261d05032bbeac1206fc2ca7" title="Get a result in task execute time measurement.">getExecStat</a>() = 0;
<a name="l00495"></a>00495 
<a name="l00511"></a>00511     <span class="keyword">virtual</span> <a class="code" href="structcoil_1_1TimeMeasure_1_1Statistics.html" title="Structure for time statistics.">coil::TimeMeasure::Statistics</a> <a class="code" href="classcoil_1_1PeriodicTaskBase.html#a2fad97663ebc6a3514bca02353bb2359" title="Get a result in task period time measurement.">getPeriodStat</a>() = 0;
<a name="l00512"></a>00512 
<a name="l00513"></a>00513   };
<a name="l00514"></a>00514 }; <span class="comment">// namespace coil</span>
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 <span class="preprocessor">#endif // COIL_PERIODICTASKBASE_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 24 23:25:21 2012 for OpenRTM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>

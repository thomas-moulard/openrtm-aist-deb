<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenRTM: PortBase.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>PortBase.h</h1><a href="PortBase_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- C++ -*-</span>
<a name="l00020"></a>00020 <span class="comment"></span><span class="preprocessor">#ifndef RTC_PORTBASE_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define RTC_PORTBASE_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="RTC_8h.html" title="RTComponent header.">rtm/RTC.h</a>&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Guard_8h.html" title="Guard template class.">coil/Guard.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Mutex_8h.html">coil/Mutex.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;rtm/idl/RTCSkel.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="CORBA__SeqUtil_8h.html" title="CORBA sequence utility template functions.">rtm/CORBA_SeqUtil.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="NVUtil_8h.html" title="NameValue and NVList utility functions.">rtm/NVUtil.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="SystemLogger_8h.html" title="RT component logger class.">rtm/SystemLogger.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="PortConnectListener_8h.html" title="port&amp;#39;s internal action listener classes">rtm/PortConnectListener.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#pragma warning( disable : 4290 )</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>
<a name="l00040"></a>00040 <span class="keyword">namespace </span>RTC
<a name="l00041"></a>00041 {
<a name="l00042"></a>00042   <span class="keyword">class </span>ConnectionCallback;
<a name="l00043"></a>00043 
<a name="l00134"></a><a class="code" href="classRTC_1_1PortBase.html">00134</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1PortBase.html" title="Port base class.">PortBase</a>
<a name="l00135"></a>00135     : <span class="keyword">public</span> <span class="keyword">virtual</span> POA_RTC::PortService,
<a name="l00136"></a>00136       <span class="keyword">public</span> <span class="keyword">virtual</span> PortableServer::<a class="code" href="RTC_8h.html#a4e6e58270671e9109809d6c77137ee89">RefCountServantBase</a>
<a name="l00137"></a>00137   {
<a name="l00138"></a>00138   <span class="keyword">public</span>:
<a name="l00164"></a>00164     <a class="code" href="classRTC_1_1PortBase.html#a778ffb56398a68f1a9254773a4bbc0b7" title="Constructor.">PortBase</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name = <span class="stringliteral">&quot;&quot;</span>);
<a name="l00165"></a>00165     
<a name="l00183"></a>00183     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1PortBase.html#acc3ed2687a796b80c0b29d170e2e27aa" title="Destructor.">~PortBase</a>(<span class="keywordtype">void</span>);
<a name="l00184"></a>00184     
<a name="l00236"></a>00236     <span class="keyword">virtual</span> PortProfile* <a class="code" href="classRTC_1_1PortBase.html#ae38441f66c19863e383f461de846a062" title="[CORBA interface] Get the PortProfile of the Port">get_port_profile</a>()
<a name="l00237"></a>00237       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00238"></a>00238     
<a name="l00264"></a>00264     <span class="keyword">const</span> PortProfile&amp; <a class="code" href="classRTC_1_1PortBase.html#af76274dad83b880e0773c0f109c8deb8" title="Get the PortProfile of the Port.">getPortProfile</a>() <span class="keyword">const</span>;
<a name="l00265"></a>00265     
<a name="l00318"></a>00318     <span class="keyword">virtual</span> ConnectorProfileList* <a class="code" href="classRTC_1_1PortBase.html#a00e8e5597add78a8e8f044a98ff60cfd" title="[CORBA interface] Get the ConnectorProfileList of the Port">get_connector_profiles</a>()
<a name="l00319"></a>00319       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00320"></a>00320     
<a name="l00360"></a>00360     <span class="keyword">virtual</span> ConnectorProfile* <a class="code" href="classRTC_1_1PortBase.html#a66847c611f82d14894356fd122315c06" title="[CORBA interface] Get the ConnectorProfile">get_connector_profile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* connector_id)
<a name="l00361"></a>00361       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00362"></a>00362     
<a name="l00520"></a>00520     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#a139d07d2e94f7e793aedf4aa24b92462" title="[CORBA interface] Connect the Port">connect</a>(ConnectorProfile&amp; connector_profile)
<a name="l00521"></a>00521       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00522"></a>00522     
<a name="l00638"></a>00638     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#a9bcc3c981a6649f37f3ad7eac31e5766" title="[CORBA interface] Notify the Ports connection">notify_connect</a>(ConnectorProfile&amp; connector_profile)
<a name="l00639"></a>00639       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00640"></a>00640     
<a name="l00706"></a>00706     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#a1ac6bea826249d3b2b9cb09d475e54f8" title="[CORBA interface] Disconnect the Port">disconnect</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* connector_id)
<a name="l00707"></a>00707       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00708"></a>00708     
<a name="l00797"></a>00797     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#ae78bb7882d22bca794bd0faa78452aca" title="[CORBA interface] Notify the Ports disconnection">notify_disconnect</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* connector_id)
<a name="l00798"></a>00798       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00799"></a>00799     
<a name="l00819"></a>00819     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#a2464e0184036a389c4083625d7a1435f" title="[CORBA interface] Disconnect the All Ports">disconnect_all</a>()
<a name="l00820"></a>00820       <span class="keywordflow">throw</span> (CORBA::SystemException);
<a name="l00821"></a>00821     
<a name="l00822"></a>00822     <span class="comment">//============================================================</span>
<a name="l00823"></a>00823     <span class="comment">// Local operations</span>
<a name="l00824"></a>00824     <span class="comment">//============================================================</span>
<a name="l00841"></a>00841 <span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#ad779347bae007555968dda9e78004e34" title="Activate all Port interfaces.">activateInterfaces</a>() = 0;
<a name="l00842"></a>00842 
<a name="l00859"></a>00859     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a8dfb8a33b92b9fc9b6c070df2def633f" title="Deactivate all Port interfaces.">deactivateInterfaces</a>() = 0;
<a name="l00860"></a>00860 
<a name="l00880"></a>00880     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a4429d9d48ba72f621ed446b50bdf9043" title="Set the name of this Port.">setName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);
<a name="l00881"></a>00881 
<a name="l00899"></a>00899    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classRTC_1_1PortBase.html#a2897e7321c60684612cb286954e84653" title="Get the name of this Port.">getName</a>() <span class="keyword">const</span>;
<a name="l00900"></a>00900 
<a name="l00918"></a>00918     <span class="keyword">const</span> PortProfile&amp; <a class="code" href="classRTC_1_1PortBase.html#ab5ab1328c5d5be82e5a213f6900c4eb8" title="Get the PortProfile of the Port.">getProfile</a>() <span class="keyword">const</span>;
<a name="l00919"></a>00919     
<a name="l00941"></a>00941     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a710706ff630c6502e3de6cf5dd302c83" title="Set the object reference of this Port.">setPortRef</a>(PortService_ptr port_ref);
<a name="l00942"></a>00942     
<a name="l00964"></a>00964     PortService_ptr <a class="code" href="classRTC_1_1PortBase.html#a2b8a9dad7bcb51557471a7d034631d25" title="Get the object reference of this Port.">getPortRef</a>();
<a name="l00965"></a>00965     
<a name="l00985"></a>00985     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a1431e933c50b7f31df6446051ca4b3fe" title="Set the owner RTObject of the Port.">setOwner</a>(RTObject_ptr owner);
<a name="l00986"></a>00986 
<a name="l00987"></a>00987     <span class="comment">//============================================================</span>
<a name="l00988"></a>00988     <span class="comment">// callbacks</span>
<a name="l00989"></a>00989     <span class="comment">//============================================================</span>
<a name="l01034"></a>01034 <span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#affce1efdd04a8b66af5238ee435a5b2b" title="Setting callback called on publish interfaces.">setOnPublishInterfaces</a>(<a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* on_publish);
<a name="l01035"></a>01035 
<a name="l01080"></a>01080     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#ac9783d3edef34a7f5c5cef910b4fa33a" title="Setting callback called on publish interfaces.">setOnSubscribeInterfaces</a>(<a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* on_subscribe);
<a name="l01081"></a>01081 
<a name="l01133"></a>01133     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a7c97305b47e95f96dffaee6871db9b5d" title="Setting callback called on connection established.">setOnConnected</a>(<a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* on_connected);
<a name="l01134"></a>01134 
<a name="l01180"></a>01180     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#aff023d4b2faa7d161b7c91ef9273a705" title="Setting callback called on unsubscribe interfaces.">setOnUnsubscribeInterfaces</a>(<a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* on_subscribe);
<a name="l01181"></a>01181 
<a name="l01225"></a>01225     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a8f26ec4ff60e7728a09cbd34a6a2ca33" title="Setting callback called on disconnected.">setOnDisconnected</a>(<a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* on_disconnected);
<a name="l01226"></a>01226 
<a name="l01251"></a>01251     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#aa7797b53a5199aecb86ebd6e11da9a6e" title="Setting callback called on connection lost.">setOnConnectionLost</a>(<a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* on_connection_lost);
<a name="l01252"></a>01252 
<a name="l01273"></a>01273     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#aa0fca5f8b8ce5503439f21c7e940227b" title="Setting PortConnectListener holder.">setPortConnectListenerHolder</a>(<a class="code" href="classRTC_1_1PortConnectListeners.html" title="PortConnectListeners class.">PortConnectListeners</a>* portconnListeners);
<a name="l01274"></a>01274 
<a name="l01275"></a>01275     <span class="comment">//============================================================</span>
<a name="l01276"></a>01276     <span class="comment">// protected operations</span>
<a name="l01277"></a>01277     <span class="comment">//============================================================</span>
<a name="l01278"></a>01278   <span class="keyword">protected</span>:
<a name="l01345"></a>01345     <span class="keyword">virtual</span> ReturnCode_t
<a name="l01346"></a>01346     <a class="code" href="classRTC_1_1PortBase.html#acf31878c5912f56c122aaa2310e182de" title="Publish interface information.">publishInterfaces</a>(ConnectorProfile&amp; connector_profile) = 0;
<a name="l01347"></a>01347     
<a name="l01374"></a>01374     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#acd7017c12c99c59c191d1269b40a7423" title="Call notify_connect() of the next Port.">connectNext</a>(ConnectorProfile&amp; connector_profile);
<a name="l01375"></a>01375     
<a name="l01402"></a>01402     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#a4eeddc35a698e4020e7ba96627dcde3b" title="Call notify_disconnect() of the next Port.">disconnectNext</a>(ConnectorProfile&amp; connector_profile);
<a name="l01403"></a>01403     
<a name="l01467"></a>01467     <span class="keyword">virtual</span> ReturnCode_t
<a name="l01468"></a>01468     <a class="code" href="classRTC_1_1PortBase.html#afce755069836c1ee637784e2a9e5a02b" title="Publish interface information.">subscribeInterfaces</a>(<span class="keyword">const</span> ConnectorProfile&amp; connector_profile) = 0;
<a name="l01469"></a>01469     
<a name="l01507"></a>01507     <span class="keyword">virtual</span> <span class="keywordtype">void</span>
<a name="l01508"></a>01508     <a class="code" href="classRTC_1_1PortBase.html#a8a843a387e99d4d4daa6e829eb1db569" title="Disconnect interface connection.">unsubscribeInterfaces</a>(<span class="keyword">const</span> ConnectorProfile&amp; connector_profile) = 0;
<a name="l01509"></a>01509 
<a name="l01525"></a>01525     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a9dce68b24fdfbf13f835f6b8b83f2282" title="Set the maximum number of connections.">setConnectionLimit</a>(<span class="keywordtype">int</span> limit_value);
<a name="l01526"></a>01526     
<a name="l01547"></a>01547     <span class="keyword">virtual</span> ReturnCode_t <a class="code" href="classRTC_1_1PortBase.html#afa9ee9900b247eb705c1dd27a6f6efe8" title="Publish interface information.">_publishInterfaces</a>(<span class="keywordtype">void</span>);
<a name="l01548"></a>01548     <span class="comment">//============================================================</span>
<a name="l01549"></a>01549     <span class="comment">// protected utility functions</span>
<a name="l01550"></a>01550     <span class="comment">//============================================================</span>
<a name="l01577"></a>01577 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#a9829b707373bd30160e1b6df7244f0bc" title="Check whether connector_id of ConnectorProfile is empty.">isEmptyId</a>(<span class="keyword">const</span> ConnectorProfile&amp; connector_profile) <span class="keyword">const</span>;
<a name="l01578"></a>01578     
<a name="l01598"></a>01598     <span class="keyword">const</span> std::string <a class="code" href="classRTC_1_1PortBase.html#a6ff52fee873d00a96b0e33880397af44" title="Generate the UUID.">getUUID</a>() <span class="keyword">const</span>;
<a name="l01599"></a>01599     
<a name="l01619"></a>01619     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a7d8fb06825e17568567786987bd00fbb" title="Generate and set the UUID to the ConnectorProfile.">setUUID</a>(ConnectorProfile&amp; connector_profile) <span class="keyword">const</span>;
<a name="l01620"></a>01620     
<a name="l01646"></a>01646     <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#a15653054a5bd4e0559e0c3edec3b11d3" title="Check whether the given id exists in stored ConnectorProfiles.">isExistingConnId</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>);
<a name="l01647"></a>01647     
<a name="l01677"></a>01677     ConnectorProfile <a class="code" href="classRTC_1_1PortBase.html#a271f7e306eec757069326b493c6838e2" title="Find ConnectorProfile with id.">findConnProfile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>);
<a name="l01678"></a>01678     
<a name="l01707"></a>01707     CORBA::Long <a class="code" href="classRTC_1_1PortBase.html#a7626d1f676704dfa3d3f173c7964cc7c" title="Find ConnectorProfile with id.">findConnProfileIndex</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>);
<a name="l01708"></a>01708     
<a name="l01736"></a>01736     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#aaaa8155f6dd891d0a4b77e6f6c55c97b" title="Append or update the ConnectorProfile list.">updateConnectorProfile</a>(<span class="keyword">const</span> ConnectorProfile&amp; connector_profile);
<a name="l01737"></a>01737     
<a name="l01767"></a>01767     <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#a3803219dc15de9ebb9bf096a82cfb383" title="Delete the ConnectorProfile.">eraseConnectorProfile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>);
<a name="l01768"></a>01768     
<a name="l01818"></a>01818     <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#a91146c0cd579ad2d67b0bca8c7a437bf" title="Append an interface to the PortInterfaceProfile.">appendInterface</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* type_name,
<a name="l01819"></a>01819                          PortInterfacePolarity pol);
<a name="l01820"></a>01820     
<a name="l01850"></a>01850     <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#aef670f0cfa3bafbc0207e0ea63f7a083" title="Delete the interface registration from the PortInterfaceProfile.">deleteInterface</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, PortInterfacePolarity pol);
<a name="l01851"></a>01851     
<a name="l01875"></a>01875     <span class="keyword">template</span> &lt;<span class="keyword">class</span> ValueType&gt;
<a name="l01876"></a><a class="code" href="classRTC_1_1PortBase.html#ab6548d7c61ff22a34b418ae4964177ba">01876</a>     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#ab6548d7c61ff22a34b418ae4964177ba" title="Add NameValue data to PortProfile&amp;#39;s properties.">addProperty</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, ValueType value)
<a name="l01877"></a>01877     {
<a name="l01878"></a>01878       <a class="code" href="namespaceCORBA__SeqUtil.html#a143f1f7c4c9cddca4062cbc659df452f" title="Push the new element back to the CORBA sequence.">CORBA_SeqUtil::push_back</a>(<a class="code" href="classRTC_1_1PortBase.html#a02b8a89853dc64600f9301a87f50138a" title="PortProfile of the Port.">m_profile</a>.properties,
<a name="l01879"></a>01879                                <a class="code" href="namespaceNVUtil.html#a3f3d50eb508dfe6cac1042f5a5df74ab" title="Create NameValue.">NVUtil::newNV</a>(key, value));
<a name="l01880"></a>01880     }
<a name="l01881"></a>01881 
<a name="l01907"></a><a class="code" href="classRTC_1_1PortBase.html#ac6d94d956a43f47157c2aacd0be1da4c">01907</a>     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#ac6d94d956a43f47157c2aacd0be1da4c" title="Append NameValue data to PortProfile&amp;#39;s properties.">appendProperty</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l01908"></a>01908     {
<a name="l01909"></a>01909       <a class="code" href="namespaceNVUtil.html#aa481ca6c5c584b9da26d56fc2c4be67c" title="Append the specified string to element of NVList.">NVUtil::appendStringValue</a>(<a class="code" href="classRTC_1_1PortBase.html#a02b8a89853dc64600f9301a87f50138a" title="PortProfile of the Port.">m_profile</a>.properties, key, value);
<a name="l01910"></a>01910     }
<a name="l01911"></a>01911     
<a name="l01912"></a>01912   <span class="keyword">protected</span>:
<a name="l01930"></a>01930     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#aa9e0697ef8a7138cdf30ab756ecc9242" title="Disconnect ports that doesn&amp;#39;t exist.">updateConnectors</a>();
<a name="l01931"></a>01931 
<a name="l01949"></a>01949 <span class="preprocessor">#ifndef ORB_IS_RTORB</span>
<a name="l01950"></a>01950 <span class="preprocessor"></span>    <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#abfc03f49c63f915a307ce34fed244439" title="Existence of ports.">checkPorts</a>(::RTC::PortServiceList&amp; ports);
<a name="l01951"></a>01951 <span class="preprocessor">#else // ORB_IS_RTORB</span>
<a name="l01952"></a>01952 <span class="preprocessor"></span>    <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1PortBase.html#abfc03f49c63f915a307ce34fed244439" title="Existence of ports.">checkPorts</a>(RTC_PortServiceList&amp; ports);
<a name="l01953"></a>01953 <span class="preprocessor">#endif // ORB_IS_RTORB</span>
<a name="l01954"></a>01954 <span class="preprocessor"></span>
<a name="l01955"></a>01955 
<a name="l01956"></a><a class="code" href="classRTC_1_1PortBase.html#a6c5fc09077478e84e9c26405bf7be4d1">01956</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a6c5fc09077478e84e9c26405bf7be4d1">onNotifyConnect</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l01957"></a>01957                                 RTC::ConnectorProfile&amp; profile)
<a name="l01958"></a>01958     {
<a name="l01959"></a>01959       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l01960"></a>01960         {
<a name="l01961"></a>01961           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l01962"></a>01962             portconnect_[<a class="code" href="namespaceRTC.html#ae96216f913545869292a18a555cfb3f5adfb11e92c59da6c4b8da0a6034959f86">ON_NOTIFY_CONNECT</a>].notify(portname, profile);
<a name="l01963"></a>01963         }
<a name="l01964"></a>01964     }
<a name="l01965"></a>01965 
<a name="l01966"></a><a class="code" href="classRTC_1_1PortBase.html#a1f81e3d706c34c0ff4ad77445629c1f3">01966</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a1f81e3d706c34c0ff4ad77445629c1f3">onNotifyDisconnect</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l01967"></a>01967                                    RTC::ConnectorProfile&amp; profile)
<a name="l01968"></a>01968     {
<a name="l01969"></a>01969       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l01970"></a>01970         {
<a name="l01971"></a>01971           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l01972"></a>01972             portconnect_[<a class="code" href="namespaceRTC.html#ae96216f913545869292a18a555cfb3f5ab588e73362437697407e364d2dee9257">ON_NOTIFY_DISCONNECT</a>].notify(portname, profile);
<a name="l01973"></a>01973         }
<a name="l01974"></a>01974     }
<a name="l01975"></a><a class="code" href="classRTC_1_1PortBase.html#af3a2ec35c3c1eb1c59dc6634069d04a0">01975</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#af3a2ec35c3c1eb1c59dc6634069d04a0">onUnsubscribeInterfaces</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l01976"></a>01976                                         RTC::ConnectorProfile&amp; profile)
<a name="l01977"></a>01977     {
<a name="l01978"></a>01978       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l01979"></a>01979         {
<a name="l01980"></a>01980           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l01981"></a>01981             portconnect_[<a class="code" href="namespaceRTC.html#ae96216f913545869292a18a555cfb3f5afde910eac13f8c03d3b68cb201a21260">ON_UNSUBSCRIBE_INTERFACES</a>].notify(portname, profile);
<a name="l01982"></a>01982         }
<a name="l01983"></a>01983     }
<a name="l01984"></a>01984 
<a name="l01985"></a><a class="code" href="classRTC_1_1PortBase.html#a70dd82c8188309bb79d64907d638542f">01985</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a70dd82c8188309bb79d64907d638542f">onPublishInterfaces</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l01986"></a>01986                                     RTC::ConnectorProfile&amp; profile,
<a name="l01987"></a>01987                                     ReturnCode_t ret)
<a name="l01988"></a>01988     {
<a name="l01989"></a>01989       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l01990"></a>01990         {
<a name="l01991"></a>01991           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l01992"></a>01992             portconnret_[<a class="code" href="namespaceRTC.html#a35eabe38885d06b40e489b4bee603ebfa98874b682de1a11ecfbb920b64e4c08c">ON_PUBLISH_INTERFACES</a>].notify(portname,
<a name="l01993"></a>01993                                                        profile, ret);
<a name="l01994"></a>01994         }
<a name="l01995"></a>01995     }
<a name="l01996"></a>01996 
<a name="l01997"></a><a class="code" href="classRTC_1_1PortBase.html#a1f1b927fc26a71d74b7f82be3c57fe54">01997</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a1f1b927fc26a71d74b7f82be3c57fe54">onConnectNextport</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l01998"></a>01998                                   RTC::ConnectorProfile&amp; profile,
<a name="l01999"></a>01999                                   ReturnCode_t ret)
<a name="l02000"></a>02000     {
<a name="l02001"></a>02001       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l02002"></a>02002         {
<a name="l02003"></a>02003           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l02004"></a>02004             portconnret_[<a class="code" href="namespaceRTC.html#a35eabe38885d06b40e489b4bee603ebfa0f4ef05a6b3112f42f1a5bb6e2ae5c15">ON_CONNECT_NEXTPORT</a>].notify(portname,
<a name="l02005"></a>02005                                                      profile, ret);
<a name="l02006"></a>02006         }
<a name="l02007"></a>02007     }
<a name="l02008"></a>02008 
<a name="l02009"></a><a class="code" href="classRTC_1_1PortBase.html#af5c66c1f389171c0fad73e26a74a619e">02009</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#af5c66c1f389171c0fad73e26a74a619e">onSubscribeInterfaces</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l02010"></a>02010                                       RTC::ConnectorProfile&amp; profile,
<a name="l02011"></a>02011                                       ReturnCode_t ret)
<a name="l02012"></a>02012     {
<a name="l02013"></a>02013       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l02014"></a>02014         {
<a name="l02015"></a>02015           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l02016"></a>02016             portconnret_[<a class="code" href="namespaceRTC.html#a35eabe38885d06b40e489b4bee603ebfab03b361726bd1c701e9017368590e02e">ON_SUBSCRIBE_INTERFACES</a>].notify(portname,
<a name="l02017"></a>02017                                                          profile, ret);
<a name="l02018"></a>02018         }
<a name="l02019"></a>02019     }
<a name="l02020"></a>02020 
<a name="l02021"></a><a class="code" href="classRTC_1_1PortBase.html#a454895298d71c2f046db0071a7e2b1ae">02021</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a454895298d71c2f046db0071a7e2b1ae">onConnected</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l02022"></a>02022                             RTC::ConnectorProfile&amp; profile,
<a name="l02023"></a>02023                             ReturnCode_t ret)
<a name="l02024"></a>02024     {
<a name="l02025"></a>02025       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l02026"></a>02026         {
<a name="l02027"></a>02027           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l02028"></a>02028             portconnret_[<a class="code" href="namespaceRTC.html#a35eabe38885d06b40e489b4bee603ebfaf7ab5dc740a3d7af1e7ebc4c9ac640d8">ON_CONNECTED</a>].notify(portname, profile, ret);
<a name="l02029"></a>02029         }
<a name="l02030"></a>02030     }
<a name="l02031"></a>02031 
<a name="l02032"></a><a class="code" href="classRTC_1_1PortBase.html#a2558aed0af62dca59972bafa8be29617">02032</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a2558aed0af62dca59972bafa8be29617">onDisconnectNextport</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l02033"></a>02033                                  RTC::ConnectorProfile&amp; profile,
<a name="l02034"></a>02034                                  ReturnCode_t ret)
<a name="l02035"></a>02035     {
<a name="l02036"></a>02036       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l02037"></a>02037         {
<a name="l02038"></a>02038           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l02039"></a>02039             portconnret_[<a class="code" href="namespaceRTC.html#a35eabe38885d06b40e489b4bee603ebfa00b3e4261867c0998711ca61cbf1ffcb">ON_DISCONNECT_NEXT</a>].notify(portname, profile, ret);
<a name="l02040"></a>02040         }
<a name="l02041"></a>02041     }
<a name="l02042"></a>02042 
<a name="l02043"></a><a class="code" href="classRTC_1_1PortBase.html#a6c8539e8b047205a3cdf5b34c27a246e">02043</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1PortBase.html#a6c8539e8b047205a3cdf5b34c27a246e">onDisconnected</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* portname,
<a name="l02044"></a>02044                                RTC::ConnectorProfile&amp; profile,
<a name="l02045"></a>02045                                ReturnCode_t ret)
<a name="l02046"></a>02046     {
<a name="l02047"></a>02047       <span class="keywordflow">if</span> (<a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a> != NULL)
<a name="l02048"></a>02048         {
<a name="l02049"></a>02049           <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>-&gt;
<a name="l02050"></a>02050             portconnret_[<a class="code" href="namespaceRTC.html#a35eabe38885d06b40e489b4bee603ebfaa07582adabb806ece850baebb9a8bd57">ON_DISCONNECTED</a>].notify(portname, profile, ret);
<a name="l02051"></a>02051         }
<a name="l02052"></a>02052     }
<a name="l02053"></a>02053 
<a name="l02054"></a>02054   <span class="keyword">protected</span>:
<a name="l02062"></a><a class="code" href="classRTC_1_1PortBase.html#ab111ca721c706fe5e93da18705ace90e">02062</a>     <span class="keyword">mutable</span> <a class="code" href="classRTC_1_1Logger.html" title="Logger class.">Logger</a> <a class="code" href="classRTC_1_1PortBase.html#ab111ca721c706fe5e93da18705ace90e" title="Logger stream.">rtclog</a>;
<a name="l02070"></a><a class="code" href="classRTC_1_1PortBase.html#a02b8a89853dc64600f9301a87f50138a">02070</a>     PortProfile <a class="code" href="classRTC_1_1PortBase.html#a02b8a89853dc64600f9301a87f50138a" title="PortProfile of the Port.">m_profile</a>;
<a name="l02071"></a>02071     
<a name="l02079"></a><a class="code" href="classRTC_1_1PortBase.html#a6add3c9750060e44acaec9e70a78ed92">02079</a>     RTC::PortService_var <a class="code" href="classRTC_1_1PortBase.html#a6add3c9750060e44acaec9e70a78ed92" title="Object Reference of the Port.">m_objref</a>;
<a name="l02087"></a><a class="code" href="classRTC_1_1PortBase.html#a2ee84ba32ff8423c318798dea9814642">02087</a>     <span class="keyword">mutable</span> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> <a class="code" href="classRTC_1_1PortBase.html#a2ee84ba32ff8423c318798dea9814642" title="Mutex of PortProfile.">m_profile_mutex</a>;
<a name="l02088"></a><a class="code" href="classRTC_1_1PortBase.html#acbdf425104a21619d4c887e415e045c8">02088</a>     <span class="keyword">mutable</span> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> <a class="code" href="classRTC_1_1PortBase.html#acbdf425104a21619d4c887e415e045c8">m_connectorsMutex</a>;
<a name="l02089"></a><a class="code" href="classRTC_1_1PortBase.html#afed27d51e39b7ad3a0cd0a7c80cc6b53">02089</a>     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Guard.html">coil::Guard&lt;coil::Mutex&gt;</a> <a class="code" href="classcoil_1_1Guard.html">Guard</a>;
<a name="l02090"></a>02090 
<a name="l02098"></a><a class="code" href="classRTC_1_1PortBase.html#a6f33c6161ecc2b00babcb3a18c7438df">02098</a>     std::string <a class="code" href="classRTC_1_1PortBase.html#a6f33c6161ecc2b00babcb3a18c7438df" title="Instance name.">m_ownerInstanceName</a>;
<a name="l02099"></a>02099 
<a name="l02107"></a><a class="code" href="classRTC_1_1PortBase.html#a0c568d0d7ffd5c5dfbf7cdfbd27e22c9">02107</a>     <span class="keywordtype">int</span> <a class="code" href="classRTC_1_1PortBase.html#a0c568d0d7ffd5c5dfbf7cdfbd27e22c9" title="The maximum number of connections.">m_connectionLimit</a>;
<a name="l02108"></a>02108     
<a name="l02123"></a><a class="code" href="classRTC_1_1PortBase.html#a85b7308b6911a14bbd26f62106fa2986">02123</a>     <a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* <a class="code" href="classRTC_1_1PortBase.html#a85b7308b6911a14bbd26f62106fa2986" title="Callback functor objects.">m_onPublishInterfaces</a>;
<a name="l02137"></a><a class="code" href="classRTC_1_1PortBase.html#a63ef15306f2d4d66b9570f11d8715057">02137</a>     <a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* <a class="code" href="classRTC_1_1PortBase.html#a63ef15306f2d4d66b9570f11d8715057" title="Callback functor objects.">m_onSubscribeInterfaces</a>;
<a name="l02152"></a><a class="code" href="classRTC_1_1PortBase.html#a52852f17f0978a6a639fcf6c8a8a71b6">02152</a>     <a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* <a class="code" href="classRTC_1_1PortBase.html#a52852f17f0978a6a639fcf6c8a8a71b6" title="Callback functor objects.">m_onConnected</a>;
<a name="l02166"></a><a class="code" href="classRTC_1_1PortBase.html#a34d4ada2f1dfcebec2adc85e5aea484a">02166</a>     <a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* <a class="code" href="classRTC_1_1PortBase.html#a34d4ada2f1dfcebec2adc85e5aea484a" title="Callback functor objects.">m_onUnsubscribeInterfaces</a>;
<a name="l02180"></a><a class="code" href="classRTC_1_1PortBase.html#ac1ddf7686081da5a663f9109b7ad740f">02180</a>     <a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* <a class="code" href="classRTC_1_1PortBase.html#ac1ddf7686081da5a663f9109b7ad740f" title="Callback functor objects.">m_onDisconnected</a>;
<a name="l02181"></a>02181 
<a name="l02196"></a><a class="code" href="classRTC_1_1PortBase.html#a2d7cfeb11e8bccae7702badef6d384f4">02196</a>     <a class="code" href="classRTC_1_1ConnectionCallback.html" title="Callback functor abstract for connect/notify_connect() funcs.">ConnectionCallback</a>* <a class="code" href="classRTC_1_1PortBase.html#a2d7cfeb11e8bccae7702badef6d384f4" title="Callback functor objects.">m_onConnectionLost</a>;
<a name="l02197"></a>02197 
<a name="l02211"></a><a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f">02211</a>     <a class="code" href="classRTC_1_1PortConnectListeners.html" title="PortConnectListeners class.">PortConnectListeners</a>* <a class="code" href="classRTC_1_1PortBase.html#a0e9ebbf6f53845b48d087240eeb8656f" title="PortConnectListener holder.">m_portconnListeners</a>;
<a name="l02212"></a>02212 
<a name="l02213"></a>02213     <span class="comment">//============================================================</span>
<a name="l02214"></a>02214     <span class="comment">// Functor</span>
<a name="l02215"></a>02215     <span class="comment">//============================================================</span>
<a name="l02223"></a><a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html">02223</a> <span class="comment"></span>    <span class="keyword">struct </span><a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html" title="Functor to find a ConnectorProfile named id.">find_conn_id</a>
<a name="l02224"></a>02224     {
<a name="l02225"></a><a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#a0c5e57c7f8b1bf719135c52eed175223">02225</a>       <a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#a0c5e57c7f8b1bf719135c52eed175223">find_conn_id</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>) : <a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#afae0272a2a0305bcba9677266e0871d7">m_id</a>(id) {};
<a name="l02226"></a><a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#ae6b3bf71f8ddb52f0be1c383e4fadbab">02226</a>       <span class="keywordtype">bool</span> <a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#ae6b3bf71f8ddb52f0be1c383e4fadbab">operator()</a>(<span class="keyword">const</span> ConnectorProfile&amp; cprof)
<a name="l02227"></a>02227       {
<a name="l02228"></a>02228         <span class="keywordflow">return</span> <a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#afae0272a2a0305bcba9677266e0871d7">m_id</a> == std::string(cprof.connector_id);
<a name="l02229"></a>02229       }
<a name="l02230"></a><a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#afae0272a2a0305bcba9677266e0871d7">02230</a>       std::string <a class="code" href="structRTC_1_1PortBase_1_1find__conn__id.html#afae0272a2a0305bcba9677266e0871d7">m_id</a>;
<a name="l02231"></a>02231     };  <span class="comment">// struct find_conn_id</span>
<a name="l02232"></a>02232     
<a name="l02240"></a><a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html">02240</a>     <span class="keyword">struct </span><a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html" title="Functor to find the object reference that is identical port_ref.">find_port_ref</a>
<a name="l02241"></a>02241     {
<a name="l02242"></a><a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a67c224b2a7b154dd2654f759576fea52">02242</a>       <a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a67c224b2a7b154dd2654f759576fea52">find_port_ref</a>(PortService_ptr port_ref) : <a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a83a1c3cd2fb4a1a5986383e1836b6ec5">m_port</a>(port_ref) {};
<a name="l02243"></a><a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a967c45942757ed5aabf768f68f5d7d89">02243</a>       <span class="keywordtype">bool</span> <a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a967c45942757ed5aabf768f68f5d7d89">operator()</a>(PortService_ptr port_ref)
<a name="l02244"></a>02244       {
<a name="l02245"></a>02245         <span class="keywordflow">return</span> <a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a83a1c3cd2fb4a1a5986383e1836b6ec5">m_port</a>-&gt;_is_equivalent(port_ref);
<a name="l02246"></a>02246       }
<a name="l02247"></a><a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a83a1c3cd2fb4a1a5986383e1836b6ec5">02247</a>       PortService_ptr <a class="code" href="structRTC_1_1PortBase_1_1find__port__ref.html#a83a1c3cd2fb4a1a5986383e1836b6ec5">m_port</a>;
<a name="l02248"></a>02248     };  <span class="comment">// struct find_port_ref</span>
<a name="l02249"></a>02249     
<a name="l02257"></a><a class="code" href="structRTC_1_1PortBase_1_1find__interface.html">02257</a>     <span class="keyword">struct </span><a class="code" href="structRTC_1_1PortBase_1_1find__interface.html" title="Functor to find interface from name and polarity.">find_interface</a>
<a name="l02258"></a>02258     {
<a name="l02259"></a><a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#ace212b36529cbb4723654674caba86d3">02259</a>       <a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#ace212b36529cbb4723654674caba86d3">find_interface</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, PortInterfacePolarity pol)
<a name="l02260"></a>02260         : <a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a6a60bc810b70be94985e0e912fb66efe">m_name</a>(name), <a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a762775406f1eefad0406aecbfce55d98">m_pol</a>(pol)
<a name="l02261"></a>02261       {}
<a name="l02262"></a>02262       
<a name="l02263"></a><a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a68d0b425d5ba86e6d118b0bb088a94c4">02263</a>       <span class="keywordtype">bool</span> <a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a68d0b425d5ba86e6d118b0bb088a94c4">operator()</a>(<span class="keyword">const</span> PortInterfaceProfile&amp; prof)
<a name="l02264"></a>02264       {
<a name="l02265"></a>02265         CORBA::String_var name(CORBA::string_dup(prof.instance_name));
<a name="l02266"></a>02266         <span class="keywordflow">return</span> ((<a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a6a60bc810b70be94985e0e912fb66efe">m_name</a> == (<span class="keyword">const</span> <span class="keywordtype">char</span> *)name) &amp;&amp; (<a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a762775406f1eefad0406aecbfce55d98">m_pol</a> == prof.polarity));
<a name="l02267"></a>02267       }
<a name="l02268"></a><a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a6a60bc810b70be94985e0e912fb66efe">02268</a>       std::string <a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a6a60bc810b70be94985e0e912fb66efe">m_name</a>;
<a name="l02269"></a><a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a762775406f1eefad0406aecbfce55d98">02269</a>       PortInterfacePolarity <a class="code" href="structRTC_1_1PortBase_1_1find__interface.html#a762775406f1eefad0406aecbfce55d98">m_pol</a>;
<a name="l02270"></a>02270     };  <span class="comment">// struct find_interface</span>
<a name="l02271"></a>02271   };  <span class="comment">// class PortBase</span>
<a name="l02272"></a>02272 };  <span class="comment">// namespace RTC</span>
<a name="l02273"></a>02273 
<a name="l02274"></a>02274 <span class="preprocessor">#ifdef WIN32</span>
<a name="l02275"></a>02275 <span class="preprocessor"></span><span class="preprocessor">#pragma warning( default : 4290 )</span>
<a name="l02276"></a>02276 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l02277"></a>02277 <span class="preprocessor"></span>
<a name="l02278"></a>02278 <span class="preprocessor">#endif // RTC_PORTBASE_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 24 23:25:21 2012 for OpenRTM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>

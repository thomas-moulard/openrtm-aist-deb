<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenRTM: Logger.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>Logger.h</h1><a href="Logger_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- C++ -*-</span>
<a name="l00020"></a>00020 <span class="comment"></span><span class="preprocessor">#ifndef LOGGER_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define LOGGER_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;limits.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Mutex_8h.html">coil/Mutex.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Guard_8h.html" title="Guard template class.">coil/Guard.h</a>&gt;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#ifndef LINE_MAX</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define LINE_MAX  1024</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a><a class="code" href="Logger_8h.html#a46130dc86f2322714bba26960b64e7bb">00036</a> <span class="preprocessor">#define BUFFER_LEN LINE_MAX</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 <span class="keyword">namespace </span>coil
<a name="l00039"></a>00039 {
<a name="l00053"></a>00053   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _CharT, <span class="keyword">typename</span> _Traits=std::<span class="keywordtype">char</span>_traits&lt;_CharT&gt; &gt;
<a name="l00054"></a><a class="code" href="classcoil_1_1log__streambuf.html">00054</a>   <span class="keyword">class </span><a class="code" href="classcoil_1_1log__streambuf.html" title="log_streambuf template class">log_streambuf</a>
<a name="l00055"></a>00055     : <span class="keyword">public</span> ::std::basic_streambuf&lt;_CharT, _Traits&gt;
<a name="l00056"></a>00056   {
<a name="l00057"></a>00057   <span class="keyword">public</span>:
<a name="l00058"></a><a class="code" href="classcoil_1_1log__streambuf.html#a9a97107a5978778f9429e4735f5e85ae">00058</a>     <span class="keyword">typedef</span> _CharT                                       <a class="code" href="classcoil_1_1log__streambuf.html#a9a97107a5978778f9429e4735f5e85ae">char_type</a>;
<a name="l00059"></a><a class="code" href="classcoil_1_1log__streambuf.html#a01e45ac5fd741c82e0a39d5e1aac2f47">00059</a>     <span class="keyword">typedef</span> _Traits                                      <a class="code" href="classcoil_1_1log__streambuf.html#a01e45ac5fd741c82e0a39d5e1aac2f47">traits_type</a>;
<a name="l00060"></a><a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">00060</a>     <span class="keyword">typedef</span> std::basic_streambuf&lt;char_type, traits_type&gt; <a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>;
<a name="l00061"></a><a class="code" href="classcoil_1_1log__streambuf.html#a414ef58cbec8134201f3404e5273f8ed">00061</a>     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">Mutex</a>;
<a name="l00062"></a><a class="code" href="classcoil_1_1log__streambuf.html#a740dfbbcd0b7983a7a1ad2c1c371d046">00062</a>     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Guard.html">coil::Guard&lt;coil::Mutex&gt;</a> <a class="code" href="classcoil_1_1Guard.html">Guard</a>;
<a name="l00063"></a>00063 
<a name="l00079"></a><a class="code" href="classcoil_1_1log__streambuf.html#aa499e3c876c6222463357e382b344671">00079</a>     <a class="code" href="classcoil_1_1log__streambuf.html#aa499e3c876c6222463357e382b344671" title="Constructor.">log_streambuf</a>()
<a name="l00080"></a>00080       : <a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>()
<a name="l00081"></a>00081     {
<a name="l00082"></a>00082       <span class="keywordtype">char</span> *pStart = m_buf;
<a name="l00083"></a>00083       <span class="keywordtype">char</span> *pEnd = m_buf + (<a class="code" href="Logger_8h.html#a46130dc86f2322714bba26960b64e7bb">BUFFER_LEN</a> - 1);
<a name="l00084"></a>00084       this-&gt;setp(pStart, pEnd);
<a name="l00085"></a>00085       this-&gt;setg(pStart, pStart, pEnd);
<a name="l00086"></a>00086     }
<a name="l00087"></a>00087 
<a name="l00103"></a><a class="code" href="classcoil_1_1log__streambuf.html#adfc4bc61eaa1c574bfa8bc6ee23b3136">00103</a>     <span class="keyword">virtual</span> <a class="code" href="classcoil_1_1log__streambuf.html#adfc4bc61eaa1c574bfa8bc6ee23b3136" title="Destructor.">~log_streambuf</a>()
<a name="l00104"></a>00104     {
<a name="l00105"></a>00105     }
<a name="l00106"></a>00106 
<a name="l00136"></a><a class="code" href="classcoil_1_1log__streambuf.html#a2a3ecd6335b08209108c4f9558ba9398">00136</a>     <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1log__streambuf.html#a2a3ecd6335b08209108c4f9558ba9398" title="Destructor.">addStream</a>(<a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>* stream, <span class="keywordtype">bool</span> cleanup = <span class="keyword">false</span>)
<a name="l00137"></a>00137     {
<a name="l00138"></a>00138       m_streams.push_back(<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a>(stream, cleanup));
<a name="l00139"></a>00139     }
<a name="l00140"></a>00140 
<a name="l00163"></a><a class="code" href="classcoil_1_1log__streambuf.html#a1704c352e01cc833612690e3bbc67b68">00163</a>     <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1log__streambuf.html#a1704c352e01cc833612690e3bbc67b68" title="Destructor.">removeStream</a>(<a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>* stream)
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165       std::vector&lt;coil::log_streambuf&lt;char&gt;::Stream&gt;::iterator it;
<a name="l00166"></a>00166       <span class="keywordflow">for</span>( it = m_streams.begin(); it != m_streams.end(); it++ )
<a name="l00167"></a>00167       {
<a name="l00168"></a>00168           <span class="keywordflow">if</span> (it-&gt;stream_ == stream)
<a name="l00169"></a>00169             {
<a name="l00170"></a>00170               m_streams.erase(it);
<a name="l00171"></a>00171               <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00172"></a>00172             }
<a name="l00173"></a>00173       }
<a name="l00174"></a>00174       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 
<a name="l00196"></a><a class="code" href="classcoil_1_1log__streambuf.html#a4cc8a12c3925ba73388bf7a897f6498b">00196</a>     std::vector&lt;streambuf_type*&gt; <a class="code" href="classcoil_1_1log__streambuf.html#a4cc8a12c3925ba73388bf7a897f6498b" title="Get stream buffer list.">getBuffers</a>()
<a name="l00197"></a>00197     {
<a name="l00198"></a>00198       std::vector&lt;streambuf_type*&gt; buffs;
<a name="l00199"></a>00199       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0), len(m_streams.size()); i &lt; len; ++i)
<a name="l00200"></a>00200         {
<a name="l00201"></a>00201           buffs.push_back(m_streams[i].stream_);
<a name="l00202"></a>00202         }
<a name="l00203"></a>00203       <span class="keywordflow">return</span> buffs;
<a name="l00204"></a>00204     }
<a name="l00205"></a>00205    
<a name="l00206"></a>00206   <span class="keyword">protected</span>:
<a name="l00226"></a><a class="code" href="classcoil_1_1log__streambuf.html#a113d3c59f9616c432bb182705efa3bc6">00226</a>     <span class="keyword">virtual</span> std::streamsize <a class="code" href="classcoil_1_1log__streambuf.html#a113d3c59f9616c432bb182705efa3bc6" title="override of basic_streambuf::xsputn">xsputn</a>(<span class="keyword">const</span> <a class="code" href="classcoil_1_1log__streambuf.html#a9a97107a5978778f9429e4735f5e85ae">char_type</a>* s, std::streamsize n)
<a name="l00227"></a>00227     {
<a name="l00228"></a>00228       <a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea" title="Write the stream buffer in stream.">stream_sputn</a>();
<a name="l00229"></a>00229       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0), len(m_streams.size()); i &lt; len; ++i)
<a name="l00230"></a>00230         {
<a name="l00231"></a>00231           <a class="code" href="classcoil_1_1Guard.html">Guard</a> gaurd(m_streams[i].mutex_);
<a name="l00232"></a>00232           m_streams[i].stream_-&gt;sputn(s, n);
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234       <span class="keywordflow">return</span> n;
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236 
<a name="l00252"></a><a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea">00252</a>     <span class="keyword">virtual</span> std::streamsize <a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea" title="Write the stream buffer in stream.">stream_sputn</a>()
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254       <span class="keywordtype">int</span> bytes_to_write;
<a name="l00255"></a>00255       bytes_to_write = this-&gt;pptr() - this-&gt;gptr();
<a name="l00256"></a>00256       <span class="keywordflow">if</span> (bytes_to_write &gt; 0)
<a name="l00257"></a>00257         {
<a name="l00258"></a>00258           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0), len(m_streams.size()); i &lt; len; ++i)
<a name="l00259"></a>00259             {
<a name="l00260"></a>00260               <a class="code" href="classcoil_1_1Guard.html">Guard</a> gaurd(m_streams[i].mutex_);
<a name="l00261"></a>00261               m_streams[i].stream_-&gt;sputn(this-&gt;gptr(), bytes_to_write);
<a name="l00262"></a>00262             }
<a name="l00263"></a>00263           this-&gt;gbump(bytes_to_write);
<a name="l00264"></a>00264           <span class="keywordflow">if</span> (this-&gt;gptr() &gt;= this-&gt;pptr())
<a name="l00265"></a>00265             {
<a name="l00266"></a>00266               this-&gt;pbump(this-&gt;pbase() - this-&gt;pptr());
<a name="l00267"></a>00267               this-&gt;gbump(this-&gt;pbase() - this-&gt;gptr());
<a name="l00268"></a>00268             }
<a name="l00269"></a>00269         }
<a name="l00270"></a>00270       <span class="keywordflow">return</span> bytes_to_write;
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272 
<a name="l00293"></a><a class="code" href="classcoil_1_1log__streambuf.html#acd1e28861820f7fd8065c32eef65f04d">00293</a>     <span class="keyword">virtual</span> std::streamsize <a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea" title="Write the stream buffer in stream.">stream_sputn</a>(<span class="keyword">const</span> <a class="code" href="classcoil_1_1log__streambuf.html#a9a97107a5978778f9429e4735f5e85ae">char_type</a>* s, std::streamsize n)
<a name="l00294"></a>00294     {
<a name="l00295"></a>00295       
<a name="l00296"></a>00296       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0), len(m_streams.size()); i &lt; len; ++i)
<a name="l00297"></a>00297         {
<a name="l00298"></a>00298           <a class="code" href="classcoil_1_1Guard.html">Guard</a> gaurd(m_streams[i].mutex_);
<a name="l00299"></a>00299           m_streams[i].stream_-&gt;sputn(s, n);
<a name="l00300"></a>00300           m_streams[i].stream_-&gt;pubsync();
<a name="l00301"></a>00301         }
<a name="l00302"></a>00302       <span class="keywordflow">return</span> n;
<a name="l00303"></a>00303     }
<a name="l00322"></a><a class="code" href="classcoil_1_1log__streambuf.html#adebdd1a8aded503c77efee296f7c3a04">00322</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__streambuf.html#adebdd1a8aded503c77efee296f7c3a04" title="override of basic_streambuf::overflow">overflow</a> (<span class="keywordtype">int</span> c = traits_type::eof())
<a name="l00323"></a>00323     {
<a name="l00324"></a>00324       <a class="code" href="classcoil_1_1Guard.html">Guard</a> guard(m_mutex);
<a name="l00325"></a>00325 <span class="comment">//      if (traits_type::eq_int_type(c, traits_type::eof()))</span>
<a name="l00326"></a>00326 <span class="comment">//        return c;</span>
<a name="l00327"></a>00327 <span class="comment">//</span>
<a name="l00328"></a>00328 <span class="comment">//      char_type last_char = traits_type::to_char_type(c);</span>
<a name="l00329"></a>00329 <span class="comment">//      if (sputn(&amp;last_char, 1) != 1)</span>
<a name="l00330"></a>00330 <span class="comment">//        return traits_type::eof();</span>
<a name="l00331"></a>00331 <span class="comment">//      else</span>
<a name="l00332"></a>00332 <span class="comment">//        return c;</span>
<a name="l00333"></a>00333 
<a name="l00334"></a>00334       <span class="keywordflow">if</span> (this-&gt;pbase())
<a name="l00335"></a>00335         {
<a name="l00336"></a>00336           <span class="keywordflow">if</span> (this-&gt;pptr() &gt; this-&gt;epptr() || this-&gt;pptr() &lt; this-&gt;pbase())
<a name="l00337"></a>00337             <span class="keywordflow">return</span> traits_type::eof();
<a name="l00338"></a>00338           <span class="comment">// Add extra character to buffer if not EOF</span>
<a name="l00339"></a>00339           <span class="keywordflow">if</span> (!traits_type::eq_int_type(c, traits_type::eof()))
<a name="l00340"></a>00340             {
<a name="l00341"></a>00341               this-&gt;pbump(-1);
<a name="l00342"></a>00342               *(this-&gt;pptr()) = traits_type::to_char_type(c);
<a name="l00343"></a>00343               this-&gt;pbump(1);
<a name="l00344"></a>00344             }
<a name="l00345"></a>00345           <span class="comment">// Number of characters to write to file</span>
<a name="l00346"></a>00346           <span class="keywordtype">int</span> bytes_to_write = this-&gt;pptr() - this-&gt;gptr();
<a name="l00347"></a>00347           <span class="comment">// Overflow doesn&#39;t fail if nothing is to be written</span>
<a name="l00348"></a>00348           <span class="keywordflow">if</span> (bytes_to_write &gt; 0)
<a name="l00349"></a>00349             {
<a name="l00350"></a>00350               <span class="keywordflow">if</span> (<a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea" title="Write the stream buffer in stream.">stream_sputn</a>(this-&gt;gptr(), bytes_to_write) != bytes_to_write)
<a name="l00351"></a>00351                 <span class="keywordflow">return</span> traits_type::eof();
<a name="l00352"></a>00352               <span class="comment">// Reset next pointer to point to pbase on success</span>
<a name="l00353"></a>00353               this-&gt;pbump(this-&gt;pbase() - this-&gt;pptr());
<a name="l00354"></a>00354               this-&gt;gbump(this-&gt;pbase() - this-&gt;gptr());
<a name="l00355"></a>00355             }
<a name="l00356"></a>00356         }
<a name="l00357"></a>00357       <span class="comment">// Write extra character to file if not EOF</span>
<a name="l00358"></a>00358       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!traits_type::eq_int_type(c, traits_type::eof()))
<a name="l00359"></a>00359         {
<a name="l00360"></a>00360           <span class="comment">// Impromptu char buffer (allows &quot;unbuffered&quot; output)</span>
<a name="l00361"></a>00361           <a class="code" href="classcoil_1_1log__streambuf.html#a9a97107a5978778f9429e4735f5e85ae">char_type</a> last_char = traits_type::to_char_type(c);
<a name="l00362"></a>00362           <span class="comment">// If gzipped file won&#39;t accept this character, fail</span>
<a name="l00363"></a>00363           <span class="keywordflow">if</span> (<a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea" title="Write the stream buffer in stream.">stream_sputn</a>(&amp;last_char, 1) != 1)
<a name="l00364"></a>00364             <span class="keywordflow">return</span> traits_type::eof();
<a name="l00365"></a>00365         }
<a name="l00366"></a>00366       <span class="comment">// If you got here, you have succeeded (even if c was EOF)</span>
<a name="l00367"></a>00367       <span class="comment">// The return value should therefore be non-EOF</span>
<a name="l00368"></a>00368       <span class="keywordflow">if</span> (traits_type::eq_int_type(c, traits_type::eof()))
<a name="l00369"></a>00369         <span class="keywordflow">return</span> traits_type::not_eof(c);
<a name="l00370"></a>00370       <span class="keywordflow">else</span>
<a name="l00371"></a>00371         <span class="keywordflow">return</span> c;
<a name="l00372"></a>00372     } 
<a name="l00373"></a>00373 
<a name="l00389"></a><a class="code" href="classcoil_1_1log__streambuf.html#a1b973de50d8021dd19c200afc6067562">00389</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__streambuf.html#a1b973de50d8021dd19c200afc6067562" title="override of basic_streambuf::sync">sync</a>()
<a name="l00390"></a>00390     {
<a name="l00391"></a>00391       <span class="keywordflow">if</span> (this-&gt;pbase())
<a name="l00392"></a>00392         {
<a name="l00393"></a>00393           <a class="code" href="classcoil_1_1Guard.html">Guard</a> guard(m_mutex);
<a name="l00394"></a>00394           <span class="keywordflow">if</span> (this-&gt;pptr() &gt; this-&gt;epptr() || this-&gt;pptr() &lt; this-&gt;pbase())
<a name="l00395"></a>00395             <span class="keywordflow">return</span> -1;
<a name="l00396"></a>00396 
<a name="l00397"></a>00397           <span class="keywordtype">int</span> bytes_to_write;
<a name="l00398"></a>00398           bytes_to_write = this-&gt;pptr() - this-&gt;gptr();
<a name="l00399"></a>00399           <span class="keywordflow">if</span> (bytes_to_write &gt; 0)
<a name="l00400"></a>00400             {
<a name="l00401"></a>00401               <span class="keywordflow">if</span> (<a class="code" href="classcoil_1_1log__streambuf.html#a9f8cef21f4ea01f154ef5520513d60ea" title="Write the stream buffer in stream.">stream_sputn</a>(this-&gt;gptr(), bytes_to_write) != bytes_to_write)
<a name="l00402"></a>00402                 {
<a name="l00403"></a>00403                   <span class="keywordflow">return</span> -1;
<a name="l00404"></a>00404                 }
<a name="l00405"></a>00405               this-&gt;gbump(bytes_to_write);
<a name="l00406"></a>00406               <span class="keywordflow">if</span> (this-&gt;gptr() &gt;= this-&gt;pptr())
<a name="l00407"></a>00407                 {
<a name="l00408"></a>00408                   this-&gt;pbump(this-&gt;pbase() - this-&gt;pptr());
<a name="l00409"></a>00409                   this-&gt;gbump(this-&gt;pbase() - this-&gt;gptr());
<a name="l00410"></a>00410                 }
<a name="l00411"></a>00411             }
<a name="l00412"></a>00412         }
<a name="l00413"></a>00413       <span class="keywordflow">else</span>
<a name="l00414"></a>00414         {
<a name="l00415"></a>00415           this-&gt;<a class="code" href="classcoil_1_1log__streambuf.html#adebdd1a8aded503c77efee296f7c3a04" title="override of basic_streambuf::overflow">overflow</a>();
<a name="l00416"></a>00416         }
<a name="l00417"></a>00417       <span class="keywordflow">return</span> 0;
<a name="l00418"></a>00418     }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420   <span class="keyword">public</span>:
<a name="l00421"></a>00421 
<a name="l00433"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html">00433</a>     <span class="keyword">struct </span><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a>
<a name="l00434"></a>00434     {
<a name="l00435"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a8e445a1569a7c6aadb43f4fbf2562a20">00435</a>       <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a8e445a1569a7c6aadb43f4fbf2562a20">Stream</a>(<a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>* stream, <span class="keywordtype">bool</span> cleanup = <span class="keyword">false</span>)
<a name="l00436"></a>00436         : <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a>(stream), <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">cleanup_</a>(cleanup)
<a name="l00437"></a>00437       {
<a name="l00438"></a>00438       }
<a name="l00439"></a>00439 
<a name="l00440"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a19ab5a6862a1dc2e20da102b744d5737">00440</a>       <span class="keyword">virtual</span> <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a19ab5a6862a1dc2e20da102b744d5737">~Stream</a>()
<a name="l00441"></a>00441       {
<a name="l00442"></a>00442       }
<a name="l00443"></a>00443 
<a name="l00444"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a494575e16ffcad41ed6741f139bfef9a">00444</a>       <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a8e445a1569a7c6aadb43f4fbf2562a20">Stream</a>(<span class="keyword">const</span> <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a>&amp; x)
<a name="l00445"></a>00445         : <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a>(x.<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a>)
<a name="l00446"></a>00446       {
<a name="l00447"></a>00447       }
<a name="l00448"></a>00448 
<a name="l00449"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a7fb53fc7cd206f99c8e251663e307323">00449</a>       <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a>&amp; <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a7fb53fc7cd206f99c8e251663e307323">operator=</a>(<span class="keyword">const</span> <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a>&amp; x)
<a name="l00450"></a>00450       {
<a name="l00451"></a>00451         <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a> tmp(x);
<a name="l00452"></a>00452         tmp.<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a45057b9b7e72935f76194ffa72b395c2">swap</a>(*<span class="keyword">this</span>);
<a name="l00453"></a>00453         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00454"></a>00454       }
<a name="l00455"></a>00455 
<a name="l00456"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a45057b9b7e72935f76194ffa72b395c2">00456</a>       <span class="keywordtype">void</span> <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a45057b9b7e72935f76194ffa72b395c2">swap</a>(<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html" title="Structure for stream management.">Stream</a>&amp; x)
<a name="l00457"></a>00457       {
<a name="l00458"></a>00458         <a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>* stream = x.<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a>;
<a name="l00459"></a>00459         <span class="keywordtype">bool</span> cleanup = x.<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">cleanup_</a>;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461         x.<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a> = this-&gt;<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a>;
<a name="l00462"></a>00462         x.<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">cleanup_</a> = this-&gt;<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">cleanup_</a>; 
<a name="l00463"></a>00463 
<a name="l00464"></a>00464         this-&gt;<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a> = stream;
<a name="l00465"></a>00465         this-&gt;<a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">cleanup_</a> = cleanup;
<a name="l00466"></a>00466       }
<a name="l00467"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#aeadb126688858c2934096affbcb9721a">00467</a>       <span class="keyword">mutable</span> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">Mutex</a> <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#aeadb126688858c2934096affbcb9721a">mutex_</a>;
<a name="l00468"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">00468</a>       <a class="code" href="classcoil_1_1log__streambuf.html#a3f1122c7ac61e1e2b89033914ee85b54">streambuf_type</a>* <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a1f4114e35d655390b004ccb0cad39039">stream_</a>;
<a name="l00469"></a><a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">00469</a>       <span class="keywordtype">bool</span> <a class="code" href="structcoil_1_1log__streambuf_1_1Stream.html#a673577f0750a576f536a5ad4572057a1">cleanup_</a>;
<a name="l00470"></a>00470     };
<a name="l00471"></a>00471 
<a name="l00472"></a>00472   <span class="keyword">private</span>:
<a name="l00473"></a>00473 
<a name="l00493"></a>00493     <a class="code" href="classcoil_1_1log__streambuf.html#aa499e3c876c6222463357e382b344671" title="Constructor.">log_streambuf</a>(<span class="keyword">const</span> <a class="code" href="classcoil_1_1log__streambuf.html" title="log_streambuf template class">log_streambuf</a>&amp; x);
<a name="l00494"></a>00494 
<a name="l00518"></a>00518     <a class="code" href="classcoil_1_1log__streambuf.html" title="log_streambuf template class">log_streambuf</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classcoil_1_1log__streambuf.html" title="log_streambuf template class">log_streambuf</a>&amp; x);
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     std::vector&lt;Stream&gt; m_streams;
<a name="l00521"></a>00521     <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">Mutex</a> m_mutex;
<a name="l00522"></a>00522     <span class="keywordtype">char</span> m_buf[<a class="code" href="Logger_8h.html#a46130dc86f2322714bba26960b64e7bb">BUFFER_LEN</a>];
<a name="l00523"></a>00523   };
<a name="l00524"></a>00524 
<a name="l00525"></a>00525 
<a name="l00539"></a>00539   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _CharT, <span class="keyword">typename</span> _Traits=std::<span class="keywordtype">char</span>_traits&lt;_CharT&gt; &gt;
<a name="l00540"></a><a class="code" href="classcoil_1_1log__stream.html">00540</a>   <span class="keyword">class </span><a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">log_stream</a>
<a name="l00541"></a>00541     : <span class="keyword">public</span> std::basic_ostream&lt;_CharT, _Traits&gt;
<a name="l00542"></a>00542   {
<a name="l00543"></a>00543   <span class="keyword">public</span>:
<a name="l00544"></a>00544     <span class="comment">// Types:</span>
<a name="l00545"></a><a class="code" href="classcoil_1_1log__stream.html#a36222157a85ec78d4ef230ab48b346e5">00545</a>     <span class="keyword">typedef</span> _CharT                                       <a class="code" href="classcoil_1_1log__stream.html#a36222157a85ec78d4ef230ab48b346e5">char_type</a>;
<a name="l00546"></a><a class="code" href="classcoil_1_1log__stream.html#a89cce42b910a5280d48549dc6e67ebf5">00546</a>     <span class="keyword">typedef</span> _Traits                                      <a class="code" href="classcoil_1_1log__stream.html#a89cce42b910a5280d48549dc6e67ebf5">traits_type</a>;
<a name="l00547"></a><a class="code" href="classcoil_1_1log__stream.html#a85d8ac9d4a991da58728be6cac8c60cb">00547</a>     <span class="keyword">typedef</span> std::basic_ostream&lt;char_type, traits_type&gt;   <a class="code" href="classcoil_1_1log__stream.html#a85d8ac9d4a991da58728be6cac8c60cb">ostream_type</a>;
<a name="l00548"></a><a class="code" href="classcoil_1_1log__stream.html#a24162f3e7cd5e323528e1826b133c960">00548</a>     <span class="keyword">typedef</span> std::basic_streambuf&lt;char_type, traits_type&gt; <a class="code" href="classcoil_1_1log__stream.html#a24162f3e7cd5e323528e1826b133c960">streambuf_type</a>;
<a name="l00549"></a><a class="code" href="classcoil_1_1log__stream.html#a60cf6ca351d737ffdc17af3313c7a5bb">00549</a>     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">Mutex</a>;
<a name="l00550"></a><a class="code" href="classcoil_1_1log__stream.html#ae6cc892ef5e4fcf83efd547419566a3b">00550</a>     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Guard.html" title="Guard template class.">coil::Guard&lt;Mutex&gt;</a> <a class="code" href="classcoil_1_1Guard.html" title="Guard template class.">Guard</a>;
<a name="l00551"></a>00551 
<a name="l00577"></a><a class="code" href="classcoil_1_1log__stream.html#a5738d9fec1d931603810307b4b01ea0f">00577</a>     <a class="code" href="classcoil_1_1log__stream.html#a15527816f1dd0c9d1206b936042822d7" title="Default constructor.">log_stream</a>(<a class="code" href="classcoil_1_1log__stream.html#a24162f3e7cd5e323528e1826b133c960">streambuf_type</a>* sb, <span class="keywordtype">int</span> levelmin, <span class="keywordtype">int</span> levelmax, <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722" title="Acquire log stream.">level</a>)
<a name="l00578"></a>00578       : <a class="code" href="classcoil_1_1log__stream.html#a85d8ac9d4a991da58728be6cac8c60cb">ostream_type</a>(sb),
<a name="l00579"></a>00579         m_minLevel(levelmin), m_maxLevel(levelmax), m_logLevel(level)
<a name="l00580"></a>00580     {
<a name="l00581"></a>00581       <span class="keywordflow">if</span> (m_minLevel &gt;= m_maxLevel) <span class="keywordflow">throw</span> std::bad_alloc();
<a name="l00582"></a>00582       this-&gt;init(sb);
<a name="l00583"></a>00583     }
<a name="l00584"></a>00584 
<a name="l00603"></a><a class="code" href="classcoil_1_1log__stream.html#acef16b17dc52f988d7f3b28afde3e960">00603</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1log__stream.html#acef16b17dc52f988d7f3b28afde3e960" title="Message header appender function.">header</a>(<span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722" title="Acquire log stream.">level</a>)
<a name="l00604"></a>00604     {
<a name="l00605"></a>00605       <span class="keywordflow">return</span>;
<a name="l00606"></a>00606     }
<a name="l00607"></a>00607 
<a name="l00627"></a><a class="code" href="classcoil_1_1log__stream.html#a0c8986b423d39003ac210527708df43c">00627</a>     <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1log__stream.html#a0c8986b423d39003ac210527708df43c" title="Set the log level.">setLevel</a>(<span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722" title="Acquire log stream.">level</a>)
<a name="l00628"></a>00628     {
<a name="l00629"></a>00629       <span class="keywordflow">if</span> (m_minLevel &lt;= level &amp;&amp; level &lt;= m_maxLevel)
<a name="l00630"></a>00630         {
<a name="l00631"></a>00631           m_logLevel = level;
<a name="l00632"></a>00632           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00633"></a>00633         }
<a name="l00634"></a>00634       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00635"></a>00635     }
<a name="l00636"></a>00636 
<a name="l00656"></a><a class="code" href="classcoil_1_1log__stream.html#a46361ee727aa32dfb687116a7b411d78">00656</a>     <span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__stream.html#a46361ee727aa32dfb687116a7b411d78" title="Get the log level.">getLevel</a>()<span class="keyword"> const</span>
<a name="l00657"></a>00657 <span class="keyword">    </span>{
<a name="l00658"></a>00658       <span class="keywordflow">return</span> m_logLevel;
<a name="l00659"></a>00659     }
<a name="l00660"></a>00660     
<a name="l00676"></a><a class="code" href="classcoil_1_1log__stream.html#a31f76626dcd38cc32d10aa17e61198ee">00676</a>     <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1log__stream.html#a31f76626dcd38cc32d10aa17e61198ee">enableLock</a>()
<a name="l00677"></a>00677     {
<a name="l00678"></a>00678       <a class="code" href="classcoil_1_1log__stream.html#a128aedc763e4b1d1168069c013b24020" title="Lock enable mode.">m_lockEnable</a> = <span class="keyword">true</span>;
<a name="l00679"></a>00679     }
<a name="l00680"></a>00680     
<a name="l00696"></a><a class="code" href="classcoil_1_1log__stream.html#a5823336515db45fe170d20af2883525c">00696</a>     <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1log__stream.html#a5823336515db45fe170d20af2883525c">disableLock</a>()
<a name="l00697"></a>00697     {
<a name="l00698"></a>00698       <a class="code" href="classcoil_1_1log__stream.html#a128aedc763e4b1d1168069c013b24020" title="Lock enable mode.">m_lockEnable</a> = <span class="keyword">false</span>;
<a name="l00699"></a>00699     }
<a name="l00700"></a>00700     
<a name="l00732"></a><a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722">00732</a>     <a class="code" href="classcoil_1_1log__stream.html#a85d8ac9d4a991da58728be6cac8c60cb">ostream_type</a>&amp; <a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722" title="Acquire log stream.">level</a>(<span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722" title="Acquire log stream.">level</a>)
<a name="l00733"></a>00733     {
<a name="l00734"></a>00734       <span class="keywordflow">if</span> (m_minLevel &lt;= level &amp;&amp; level &lt;= m_logLevel)
<a name="l00735"></a>00735         {
<a name="l00736"></a>00736           <a class="code" href="classcoil_1_1log__stream.html#acef16b17dc52f988d7f3b28afde3e960" title="Message header appender function.">header</a>(level);
<a name="l00737"></a>00737           <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00738"></a>00738         }
<a name="l00739"></a>00739       <span class="keywordflow">else</span>
<a name="l00740"></a>00740         {
<a name="l00741"></a>00741           <span class="keywordflow">return</span> m_dummy;
<a name="l00742"></a>00742         }
<a name="l00743"></a>00743     }
<a name="l00744"></a>00744     
<a name="l00769"></a><a class="code" href="classcoil_1_1log__stream.html#ae48e999605574b2d96c00a51c5cf18df">00769</a>     <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1log__stream.html#ae48e999605574b2d96c00a51c5cf18df" title="Log level effective check.">isValid</a>(<span class="keywordtype">int</span> <a class="code" href="classcoil_1_1log__stream.html#a38cf29e6b6525011bc72510430f3c722" title="Acquire log stream.">level</a>)<span class="keyword"> const</span>
<a name="l00770"></a>00770 <span class="keyword">    </span>{
<a name="l00771"></a>00771       <span class="keywordflow">return</span> m_minLevel &lt;= level &amp;&amp; level &lt;= m_logLevel;
<a name="l00772"></a>00772     }
<a name="l00773"></a>00773 
<a name="l00787"></a><a class="code" href="classcoil_1_1log__stream.html#aec5fa5773666bfda7cb57f3efe208c72">00787</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1log__stream.html#aec5fa5773666bfda7cb57f3efe208c72" title="Acquire log lock Acquire log lock when the lock mode is set.">lock</a>()
<a name="l00788"></a>00788     {
<a name="l00789"></a>00789       <span class="keywordflow">if</span> (<a class="code" href="classcoil_1_1log__stream.html#a128aedc763e4b1d1168069c013b24020" title="Lock enable mode.">m_lockEnable</a>) <a class="code" href="classcoil_1_1log__stream.html#a0051fda5ad2fac41d8f2dbd9000b5814" title="Mutual exclusion object.">m_mutex</a>.<a class="code" href="classcoil_1_1Mutex.html#abd97daab1969a6cbf0e65ddf9944f669" title="Mutual exclusion lock.">lock</a>();
<a name="l00790"></a>00790     }
<a name="l00791"></a>00791     
<a name="l00805"></a><a class="code" href="classcoil_1_1log__stream.html#ac85f05767b589c323d6b394c8e0ba6af">00805</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcoil_1_1log__stream.html#ac85f05767b589c323d6b394c8e0ba6af" title="Release the log lock Release the log lock when the lock mode is set.">unlock</a>()
<a name="l00806"></a>00806     {
<a name="l00807"></a>00807       <span class="keywordflow">if</span> (<a class="code" href="classcoil_1_1log__stream.html#a128aedc763e4b1d1168069c013b24020" title="Lock enable mode.">m_lockEnable</a>) <a class="code" href="classcoil_1_1log__stream.html#a0051fda5ad2fac41d8f2dbd9000b5814" title="Mutual exclusion object.">m_mutex</a>.<a class="code" href="classcoil_1_1Mutex.html#aae9502c922762c052edafdeb53aa9baa" title="Mutual exclusion unlock.">unlock</a>();
<a name="l00808"></a>00808     }
<a name="l00809"></a>00809 
<a name="l00810"></a>00810     
<a name="l00811"></a>00811   <span class="keyword">protected</span>:
<a name="l00812"></a>00812 
<a name="l00828"></a><a class="code" href="classcoil_1_1log__stream.html#a6004452bf54de2545bb38537f1063879">00828</a>     <a class="code" href="classcoil_1_1log__stream.html#a6004452bf54de2545bb38537f1063879" title="Destructor.">~log_stream</a>(){};
<a name="l00829"></a>00829 
<a name="l00845"></a>00845     <a class="code" href="classcoil_1_1log__stream.html#a15527816f1dd0c9d1206b936042822d7" title="Default constructor.">log_stream</a>();
<a name="l00846"></a>00846 
<a name="l00866"></a>00866     <a class="code" href="classcoil_1_1log__stream.html#a15527816f1dd0c9d1206b936042822d7" title="Default constructor.">log_stream</a>(<span class="keyword">const</span> <a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">log_stream</a>&amp; x);
<a name="l00867"></a>00867 
<a name="l00891"></a>00891     <a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">log_stream</a>&amp; <a class="code" href="classcoil_1_1log__stream.html#ab53e7c0b4759cf7f977fb1edd7b21ded" title="Assignment operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">log_stream</a>&amp; x);
<a name="l00892"></a>00892 
<a name="l00893"></a>00893   <span class="keyword">private</span>:
<a name="l00894"></a>00894     <span class="keywordtype">int</span> m_minLevel, m_maxLevel;
<a name="l00895"></a>00895     <span class="keywordtype">int</span> m_logLevel;
<a name="l00896"></a>00896 
<a name="l00904"></a>00904     std::ofstream m_dummy;
<a name="l00905"></a>00905   <span class="keyword">public</span>:
<a name="l00906"></a>00906 
<a name="l00914"></a><a class="code" href="classcoil_1_1log__stream.html#a128aedc763e4b1d1168069c013b24020">00914</a>     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1log__stream.html#a128aedc763e4b1d1168069c013b24020" title="Lock enable mode.">m_lockEnable</a>;
<a name="l00915"></a>00915 
<a name="l00923"></a><a class="code" href="classcoil_1_1log__stream.html#a0051fda5ad2fac41d8f2dbd9000b5814">00923</a>     <span class="keyword">static</span> <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">Mutex</a> <a class="code" href="classcoil_1_1log__stream.html#a0051fda5ad2fac41d8f2dbd9000b5814" title="Mutual exclusion object.">m_mutex</a>;
<a name="l00924"></a>00924   };
<a name="l00925"></a>00925 
<a name="l00926"></a>00926   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _CharT, <span class="keyword">typename</span> _Traits &gt;
<a name="l00927"></a>00927   <span class="keywordtype">bool</span> <a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">log_stream&lt;_CharT,_Traits &gt;::m_lockEnable</a> = <span class="keyword">true</span>;
<a name="l00928"></a>00928 
<a name="l00929"></a>00929   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _CharT, <span class="keyword">typename</span> _Traits &gt;
<a name="l00930"></a>00930   <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> <a class="code" href="classcoil_1_1log__stream.html#a0051fda5ad2fac41d8f2dbd9000b5814" title="Mutual exclusion object.">log_stream&lt;_CharT,_Traits&gt;::m_mutex</a>(<span class="stringliteral">&quot;Mutex for Logger.&quot;</span>);
<a name="l00931"></a>00931 
<a name="l00932"></a><a class="code" href="namespacecoil.html#aee9db6758e0fffcb55fc3535842d3e98">00932</a>   <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1log__streambuf.html" title="log_streambuf template class">log_streambuf&lt;char&gt;</a> <a class="code" href="classcoil_1_1log__streambuf.html" title="log_streambuf template class">LogStreamBuffer</a>;
<a name="l00933"></a><a class="code" href="namespacecoil.html#a61ed7150f67f7f375e4647b7be48eca7">00933</a>   <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">log_stream&lt;char&gt;</a> <a class="code" href="classcoil_1_1log__stream.html" title="log_stream template class">LogStream</a>;
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 };
<a name="l00936"></a>00936 <span class="preprocessor">#endif // LOGGER_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 24 23:25:21 2012 for OpenRTM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>

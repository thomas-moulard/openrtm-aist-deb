<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenRTM: ConnectorListener.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>ConnectorListener.h</h1><a href="ConnectorListener_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- C++ -*-</span>
<a name="l00020"></a>00020 <span class="comment"></span><span class="preprocessor">#ifndef RTC_CONNECTORLISTENER_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define RTC_CONNECTORLISTENER_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Mutex_8h.html">coil/Mutex.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Guard_8h.html" title="Guard template class.">coil/Guard.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="RTC_8h.html" title="RTComponent header.">rtm/RTC.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="ConnectorBase_8h.html" title="Connector base class.">rtm/ConnectorBase.h</a>&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="keyword">class </span>cdrMemoryStream;
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">namespace </span>RTC
<a name="l00033"></a>00033 {
<a name="l00034"></a>00034   <span class="keyword">class </span>ConnectorInfo;
<a name="l00035"></a>00035 
<a name="l00067"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71">00067</a>   <span class="keyword">enum</span> <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71" title="The types of ConnectorDataListener.">ConnectorDataListenerType</a>
<a name="l00068"></a>00068     {
<a name="l00069"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a1c6e609ea17ad6d46edf6a135a7d120d">00069</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a1c6e609ea17ad6d46edf6a135a7d120d">ON_BUFFER_WRITE</a> = 0, 
<a name="l00070"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a99d5cc4b31552a5354b25309e0b99eb7">00070</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a99d5cc4b31552a5354b25309e0b99eb7">ON_BUFFER_FULL</a>, 
<a name="l00071"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a19f68b72ebd56305d78cb3ee3c72cb2a">00071</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a19f68b72ebd56305d78cb3ee3c72cb2a">ON_BUFFER_WRITE_TIMEOUT</a>, 
<a name="l00072"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a9ff2ddb1286e4202ca382d781585da4d">00072</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a9ff2ddb1286e4202ca382d781585da4d">ON_BUFFER_OVERWRITE</a>, 
<a name="l00073"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a22db789961492db411c3046cdb937d04">00073</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a22db789961492db411c3046cdb937d04">ON_BUFFER_READ</a>, 
<a name="l00074"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71ade969d56696df8c7c6a51906c4ae1ea1">00074</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71ade969d56696df8c7c6a51906c4ae1ea1">ON_SEND</a>, 
<a name="l00075"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a34323d5b696fc0c210853079fec64531">00075</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a34323d5b696fc0c210853079fec64531">ON_RECEIVED</a>,
<a name="l00076"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71afccba2b2ab28108db9484a9add6274d1">00076</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71afccba2b2ab28108db9484a9add6274d1">ON_RECEIVER_FULL</a>, 
<a name="l00077"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71ab7cc2d421bd422c8204d0e5c416ed66d">00077</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71ab7cc2d421bd422c8204d0e5c416ed66d">ON_RECEIVER_TIMEOUT</a>, 
<a name="l00078"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71af90f905d973375c8e12ffbb0e90050e1">00078</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71af90f905d973375c8e12ffbb0e90050e1">ON_RECEIVER_ERROR</a>,
<a name="l00079"></a><a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a83c6ac08003a736500b52bc3eab29218">00079</a>       <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a83c6ac08003a736500b52bc3eab29218">CONNECTOR_DATA_LISTENER_NUM</a>
<a name="l00080"></a>00080     };
<a name="l00081"></a>00081 
<a name="l00188"></a><a class="code" href="classRTC_1_1ConnectorDataListener.html">00188</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1ConnectorDataListener.html" title="ConnectorDataListener class.">ConnectorDataListener</a>
<a name="l00189"></a>00189   {
<a name="l00190"></a>00190   <span class="keyword">public</span>:
<a name="l00214"></a><a class="code" href="classRTC_1_1ConnectorDataListener.html#ad626d18a31d3264d5c23cd55cd319fcb">00214</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classRTC_1_1ConnectorDataListener.html#ad626d18a31d3264d5c23cd55cd319fcb" title="Convert ConnectorDataListenerType into the string.">toString</a>(<a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71" title="The types of ConnectorDataListener.">ConnectorDataListenerType</a> type)
<a name="l00215"></a>00215     {
<a name="l00216"></a>00216       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* typeString[] =
<a name="l00217"></a>00217         {
<a name="l00218"></a>00218           <span class="stringliteral">&quot;ON_BUFFER_WRITE&quot;</span>,
<a name="l00219"></a>00219           <span class="stringliteral">&quot;ON_BUFFER_FULL&quot;</span>,
<a name="l00220"></a>00220           <span class="stringliteral">&quot;ON_BUFFER_WRITE_TIMEOUT&quot;</span>,
<a name="l00221"></a>00221           <span class="stringliteral">&quot;ON_BUFFER_OVERWRITE&quot;</span>,
<a name="l00222"></a>00222           <span class="stringliteral">&quot;ON_BUFFER_READ&quot;</span>, 
<a name="l00223"></a>00223           <span class="stringliteral">&quot;ON_SEND&quot;</span>, 
<a name="l00224"></a>00224           <span class="stringliteral">&quot;ON_RECEIVED&quot;</span>,
<a name="l00225"></a>00225           <span class="stringliteral">&quot;ON_RECEIVER_FULL&quot;</span>, 
<a name="l00226"></a>00226           <span class="stringliteral">&quot;ON_RECEIVER_TIMEOUT&quot;</span>, 
<a name="l00227"></a>00227           <span class="stringliteral">&quot;ON_RECEIVER_ERROR&quot;</span>,
<a name="l00228"></a>00228           <span class="stringliteral">&quot;CONNECTOR_DATA_LISTENER_NUM&quot;</span>
<a name="l00229"></a>00229         };
<a name="l00230"></a>00230       <span class="keywordflow">if</span> (type &lt; <a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a83c6ac08003a736500b52bc3eab29218">CONNECTOR_DATA_LISTENER_NUM</a>) { <span class="keywordflow">return</span> typeString[type]; }
<a name="l00231"></a>00231       <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00232"></a>00232     }
<a name="l00233"></a>00233 
<a name="l00241"></a>00241     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1ConnectorDataListener.html#add956ee4c385ddd1e8f49b6ce052999f" title="Destructor.">~ConnectorDataListener</a>();
<a name="l00242"></a>00242 
<a name="l00259"></a>00259     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorDataListener.html#a3306cb3544db5d164c5917adddbfc298" title="Virtual Callback method.">operator()</a>(<span class="keyword">const</span> <a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info,
<a name="l00260"></a>00260                             <span class="keyword">const</span> cdrMemoryStream&amp; data) = 0;
<a name="l00261"></a>00261   };
<a name="l00262"></a>00262 
<a name="l00289"></a>00289   <span class="keyword">template</span> &lt;<span class="keyword">class</span> DataType&gt;
<a name="l00290"></a><a class="code" href="classRTC_1_1ConnectorDataListenerT.html">00290</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1ConnectorDataListenerT.html" title="ConnectorDataListenerT class.">ConnectorDataListenerT</a>
<a name="l00291"></a>00291     : <span class="keyword">public</span> <a class="code" href="classRTC_1_1ConnectorDataListener.html" title="ConnectorDataListener class.">ConnectorDataListener</a>
<a name="l00292"></a>00292   {
<a name="l00293"></a>00293   <span class="keyword">public</span>:
<a name="l00301"></a><a class="code" href="classRTC_1_1ConnectorDataListenerT.html#a7e07ce2456ad559f78b24467a22ce4ab">00301</a>     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1ConnectorDataListenerT.html#a7e07ce2456ad559f78b24467a22ce4ab" title="Destructor.">~ConnectorDataListenerT</a>(){}
<a name="l00302"></a>00302 
<a name="l00326"></a><a class="code" href="classRTC_1_1ConnectorDataListenerT.html#a6d87ccd84018b4e5437336cbe7f9c72c">00326</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorDataListenerT.html#a6d87ccd84018b4e5437336cbe7f9c72c" title="Callback method.">operator()</a>(<span class="keyword">const</span> <a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info,
<a name="l00327"></a>00327                             <span class="keyword">const</span> cdrMemoryStream&amp; cdrdata)
<a name="l00328"></a>00328     {
<a name="l00329"></a>00329       DataType data;
<a name="l00330"></a>00330       cdrMemoryStream cdr(cdrdata.bufPtr(), cdrdata.bufSize());
<a name="l00331"></a>00331       
<a name="l00332"></a>00332       <span class="comment">// endian type check</span>
<a name="l00333"></a>00333       std::string endian_type;
<a name="l00334"></a>00334       endian_type = info.<a class="code" href="classRTC_1_1ConnectorInfo.html#a480039d0964d885b3cac8e6d1ec64584" title="Connection properties.">properties</a>.<a class="code" href="classcoil_1_1Properties.html#a91ad72f8d7c41624e2258c5a9331bd2a" title="Search for the property with the specified key in this property.">getProperty</a>(<span class="stringliteral">&quot;serializer.cdr.endian&quot;</span>,
<a name="l00335"></a>00335                                                 <span class="stringliteral">&quot;little&quot;</span>);
<a name="l00336"></a>00336       <a class="code" href="namespacecoil.html#a6c3625d0e92edb211223d275c1c8c216" title="Erase the head/tail blank and replace upper case to lower case.">coil::normalize</a>(endian_type);
<a name="l00337"></a>00337       std::vector&lt;std::string&gt; endian(<a class="code" href="namespacecoil.html#a7c9782e536d2701e7a444d1ab4d2a096" title="Split string by delimiter.">coil::split</a>(endian_type, <span class="stringliteral">&quot;,&quot;</span>));
<a name="l00338"></a>00338       <span class="keywordflow">if</span> (endian[0] == <span class="stringliteral">&quot;little&quot;</span>)
<a name="l00339"></a>00339         {
<a name="l00340"></a>00340           cdr.setByteSwapFlag(<span class="keyword">true</span>);
<a name="l00341"></a>00341         }
<a name="l00342"></a>00342       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (endian[0] == <span class="stringliteral">&quot;big&quot;</span>)
<a name="l00343"></a>00343         {
<a name="l00344"></a>00344           cdr.setByteSwapFlag(<span class="keyword">false</span>);
<a name="l00345"></a>00345         }
<a name="l00346"></a>00346       data &lt;&lt;= cdr;
<a name="l00347"></a>00347       this-&gt;<a class="code" href="classRTC_1_1ConnectorDataListenerT.html#a6d87ccd84018b4e5437336cbe7f9c72c" title="Callback method.">operator()</a>(info, data);
<a name="l00348"></a>00348     }
<a name="l00349"></a>00349 
<a name="l00367"></a>00367     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorDataListenerT.html#a6d87ccd84018b4e5437336cbe7f9c72c" title="Callback method.">operator()</a>(<span class="keyword">const</span> <a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info,
<a name="l00368"></a>00368                             <span class="keyword">const</span> DataType&amp; data) = 0;
<a name="l00369"></a>00369                             
<a name="l00370"></a>00370   };
<a name="l00371"></a>00371 
<a name="l00372"></a>00372 
<a name="l00398"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422c">00398</a>   <span class="keyword">enum</span> <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422c" title="The types of ConnectorListener.">ConnectorListenerType</a>
<a name="l00399"></a>00399     {
<a name="l00400"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422caaae17909a05cc5e90b17daed478cbead">00400</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422caaae17909a05cc5e90b17daed478cbead">ON_BUFFER_EMPTY</a> = 0,
<a name="l00401"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422cada9c9fc83756d8822215445d589d7fa0">00401</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422cada9c9fc83756d8822215445d589d7fa0">ON_BUFFER_READ_TIMEOUT</a>,
<a name="l00402"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca77c67f6b0ec44d014220954fe79ecb00">00402</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca77c67f6b0ec44d014220954fe79ecb00">ON_SENDER_EMPTY</a>, 
<a name="l00403"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422caad9085992d237e5b0bccffdd963376d5">00403</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422caad9085992d237e5b0bccffdd963376d5">ON_SENDER_TIMEOUT</a>, 
<a name="l00404"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca1290605c474c0f51f73bcc3e0e72fc2a">00404</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca1290605c474c0f51f73bcc3e0e72fc2a">ON_SENDER_ERROR</a>, 
<a name="l00405"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422cad4af63c51319b10644d0981a25c74f52">00405</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422cad4af63c51319b10644d0981a25c74f52">ON_CONNECT</a>,
<a name="l00406"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca3e3c036cb6bd8930e75d6e01b706e309">00406</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca3e3c036cb6bd8930e75d6e01b706e309">ON_DISCONNECT</a>,
<a name="l00407"></a><a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca82cd3ed46cbda3d878e3d9f88b0db9e7">00407</a>       <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca82cd3ed46cbda3d878e3d9f88b0db9e7">CONNECTOR_LISTENER_NUM</a>
<a name="l00408"></a>00408     };
<a name="l00409"></a>00409 
<a name="l00516"></a><a class="code" href="classRTC_1_1ConnectorListener.html">00516</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1ConnectorListener.html" title="ConnectorListener class.">ConnectorListener</a>
<a name="l00517"></a>00517   {
<a name="l00518"></a>00518   <span class="keyword">public</span>:
<a name="l00542"></a><a class="code" href="classRTC_1_1ConnectorListener.html#a3e0396e710d6450413672e6eb232a386">00542</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classRTC_1_1ConnectorListener.html#a3e0396e710d6450413672e6eb232a386" title="Convert ConnectorListenerType into the string.">toString</a>(<a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422c" title="The types of ConnectorListener.">ConnectorListenerType</a> type)
<a name="l00543"></a>00543     { 
<a name="l00544"></a>00544       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* typeStr[] =
<a name="l00545"></a>00545         {
<a name="l00546"></a>00546           <span class="stringliteral">&quot;ON_BUFFER_EMPTY&quot;</span>,
<a name="l00547"></a>00547           <span class="stringliteral">&quot;ON_BUFFER_READ_TIMEOUT&quot;</span>,
<a name="l00548"></a>00548           <span class="stringliteral">&quot;ON_SENDER_EMPTY&quot;</span>, 
<a name="l00549"></a>00549           <span class="stringliteral">&quot;ON_SENDER_TIMEOUT&quot;</span>, 
<a name="l00550"></a>00550           <span class="stringliteral">&quot;ON_SENDER_ERROR&quot;</span>, 
<a name="l00551"></a>00551           <span class="stringliteral">&quot;ON_CONNECT&quot;</span>,
<a name="l00552"></a>00552           <span class="stringliteral">&quot;ON_DISCONNECT&quot;</span>,
<a name="l00553"></a>00553           <span class="stringliteral">&quot;CONNECTOR_LISTENER_NUM&quot;</span>
<a name="l00554"></a>00554         };
<a name="l00555"></a>00555       <span class="keywordflow">if</span> (type &lt; <a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca82cd3ed46cbda3d878e3d9f88b0db9e7">CONNECTOR_LISTENER_NUM</a>) { <span class="keywordflow">return</span> typeStr[type]; }
<a name="l00556"></a>00556       <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00557"></a>00557     }
<a name="l00558"></a>00558 
<a name="l00566"></a>00566     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1ConnectorListener.html#a023c28d2f4ce8fd10ac1990c914bb0e3" title="Destructor.">~ConnectorListener</a>();
<a name="l00567"></a>00567 
<a name="l00585"></a>00585     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorListener.html#a4ad75b245ee498d3b4e037f6acbf9f75" title="Virtual Callback method.">operator()</a>(<span class="keyword">const</span> <a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info) = 0;
<a name="l00586"></a>00586   };
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 
<a name="l00604"></a><a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html">00604</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html" title="ConnectorDataListener holder class.">ConnectorDataListenerHolder</a>
<a name="l00605"></a>00605   {
<a name="l00606"></a>00606     <span class="keyword">typedef</span> std::pair&lt;ConnectorDataListener*, bool&gt; Entry;
<a name="l00607"></a>00607     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Guard.html">coil::Guard&lt;coil::Mutex&gt;</a> <a class="code" href="classcoil_1_1Guard.html">Guard</a>;
<a name="l00608"></a>00608   <span class="keyword">public</span>:
<a name="l00616"></a>00616     <a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html#aa0c299c42ade0ce19b2ef5b70136034d" title="Constructor.">ConnectorDataListenerHolder</a>();
<a name="l00624"></a>00624     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html#a50ba55ec3f0ded808616e9c79aa63ef1" title="Destructor.">~ConnectorDataListenerHolder</a>();
<a name="l00625"></a>00625     
<a name="l00647"></a>00647     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html#a37534a08dd65b6c1bb54776d21970995" title="Add the listener.">addListener</a>(<a class="code" href="classRTC_1_1ConnectorDataListener.html" title="ConnectorDataListener class.">ConnectorDataListener</a>* listener, <span class="keywordtype">bool</span> autoclean);
<a name="l00648"></a>00648     
<a name="l00666"></a>00666     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html#a966d7887d2168f2b7a5cc2b1a721ae8d" title="Remove the listener.">removeListener</a>(<a class="code" href="classRTC_1_1ConnectorDataListener.html" title="ConnectorDataListener class.">ConnectorDataListener</a>* listener);
<a name="l00667"></a>00667     
<a name="l00687"></a>00687     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html#a44a647d9839d95c2c414a7d8737feb7b" title="Notify listeners.">notify</a>(<span class="keyword">const</span> <a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info,
<a name="l00688"></a>00688                 <span class="keyword">const</span> cdrMemoryStream&amp; cdrdata);
<a name="l00689"></a>00689     
<a name="l00690"></a>00690   <span class="keyword">private</span>:
<a name="l00691"></a>00691     std::vector&lt;Entry&gt; m_listeners;
<a name="l00692"></a>00692     <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> m_mutex;
<a name="l00693"></a>00693   };
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 
<a name="l00711"></a><a class="code" href="classRTC_1_1ConnectorListenerHolder.html">00711</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1ConnectorListenerHolder.html" title="ConnectorListener holder class.">ConnectorListenerHolder</a>
<a name="l00712"></a>00712   {
<a name="l00713"></a>00713     <span class="keyword">typedef</span> std::pair&lt;ConnectorListener*, bool&gt; Entry;
<a name="l00714"></a>00714     <span class="keyword">typedef</span> <a class="code" href="classcoil_1_1Guard.html">coil::Guard&lt;coil::Mutex&gt;</a> <a class="code" href="classcoil_1_1Guard.html">Guard</a>;
<a name="l00715"></a>00715   <span class="keyword">public</span>:
<a name="l00723"></a>00723     <a class="code" href="classRTC_1_1ConnectorListenerHolder.html#ab62f009d890220d946a8c5f1da16ba1d" title="Constructor.">ConnectorListenerHolder</a>();
<a name="l00724"></a>00724     
<a name="l00732"></a>00732     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1ConnectorListenerHolder.html#aab740e6b9f132c8cec547b377a38afa5" title="Destructor.">~ConnectorListenerHolder</a>();
<a name="l00733"></a>00733     
<a name="l00755"></a>00755     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorListenerHolder.html#a4a864412484c141ee173fa2840b1cfa1" title="Add the listener.">addListener</a>(<a class="code" href="classRTC_1_1ConnectorListener.html" title="ConnectorListener class.">ConnectorListener</a>* listener, <span class="keywordtype">bool</span> autoclean);
<a name="l00756"></a>00756     
<a name="l00774"></a>00774     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorListenerHolder.html#abd64fdf79758520c8b65f303225b27aa" title="Remove the listener.">removeListener</a>(<a class="code" href="classRTC_1_1ConnectorListener.html" title="ConnectorListener class.">ConnectorListener</a>* listener);
<a name="l00775"></a>00775 
<a name="l00793"></a>00793     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1ConnectorListenerHolder.html#a4c1522a804f3bdcab7dafeb0cca1e859" title="Notify listeners.">notify</a>(<span class="keyword">const</span> <a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info);
<a name="l00794"></a>00794       
<a name="l00795"></a>00795   <span class="keyword">private</span>:
<a name="l00796"></a>00796     std::vector&lt;Entry&gt; m_listeners;
<a name="l00797"></a>00797     <a class="code" href="classcoil_1_1Mutex.html" title="Mutex class.">coil::Mutex</a> m_mutex;
<a name="l00798"></a>00798   };
<a name="l00799"></a>00799   
<a name="l00813"></a><a class="code" href="classRTC_1_1ConnectorListeners.html">00813</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1ConnectorListeners.html" title="ConnectorListeners class.">ConnectorListeners</a>
<a name="l00814"></a>00814   {
<a name="l00815"></a>00815   <span class="keyword">public</span>:
<a name="l00825"></a><a class="code" href="classRTC_1_1ConnectorListeners.html#a32de5fe33a2924c37e95ed82f662738e">00825</a>     <a class="code" href="classRTC_1_1ConnectorDataListenerHolder.html" title="ConnectorDataListener holder class.">ConnectorDataListenerHolder</a> <a class="code" href="classRTC_1_1ConnectorListeners.html#a32de5fe33a2924c37e95ed82f662738e" title="ConnectorDataListenerType listener array The ConnectorDataListenerType listener is...">connectorData_</a>[<a class="code" href="namespaceRTC.html#aecdfe03a1e91ff9522a322e4bcc9ed71a83c6ac08003a736500b52bc3eab29218">CONNECTOR_DATA_LISTENER_NUM</a>];
<a name="l00835"></a><a class="code" href="classRTC_1_1ConnectorListeners.html#a3b8bf4c15ef100a65edc0291063a5f04">00835</a>     <a class="code" href="classRTC_1_1ConnectorListenerHolder.html" title="ConnectorListener holder class.">ConnectorListenerHolder</a> <a class="code" href="classRTC_1_1ConnectorListeners.html#a3b8bf4c15ef100a65edc0291063a5f04" title="ConnectorListenerType listener array The ConnectorListenerType listener is stored...">connector_</a>[<a class="code" href="namespaceRTC.html#a56d51b87875a454c91b4fee8af41422ca82cd3ed46cbda3d878e3d9f88b0db9e7">CONNECTOR_LISTENER_NUM</a>];
<a name="l00836"></a>00836   };
<a name="l00837"></a>00837 };
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 <span class="preprocessor">#endif // RTC_CONNECTORLISTENER_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 24 23:25:21 2012 for OpenRTM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>

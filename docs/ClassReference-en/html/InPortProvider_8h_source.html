<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenRTM: InPortProvider.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>InPortProvider.h</h1><a href="InPortProvider_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- C++ -*-</span>
<a name="l00020"></a>00020 <span class="comment"></span><span class="preprocessor">#ifndef RTC_INPORTPROVIDER_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define RTC_INPORTPROVIDER_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="coil_2include_2coil_2Factory_8h.html">coil/Factory.h</a>&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="BufferBase_8h.html" title="Buffer abstract class.">rtm/BufferBase.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="NVUtil_8h.html" title="NameValue and NVList utility functions.">rtm/NVUtil.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="SystemLogger_8h.html" title="RT component logger class.">rtm/SystemLogger.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="DataPortStatus_8h.html" title="DataPortStatus class.">rtm/DataPortStatus.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="InPortConnector_8h.html" title="InPortConnector base class.">rtm/InPortConnector.h</a>&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">namespace </span>RTC
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035   <span class="keyword">class </span>ConnectorListeners;
<a name="l00036"></a>00036   <span class="keyword">class </span>ConnectorInfo;
<a name="l00037"></a>00037 
<a name="l00190"></a><a class="code" href="classRTC_1_1InPortProvider.html">00190</a>   <span class="keyword">class </span><a class="code" href="classRTC_1_1InPortProvider.html" title="InPortProvider.">InPortProvider</a>
<a name="l00191"></a>00191     : <span class="keyword">public</span> <a class="code" href="classRTC_1_1DataPortStatus.html" title="DataPortStatus mixin class.">DataPortStatus</a>
<a name="l00192"></a>00192   {
<a name="l00193"></a>00193   <span class="keyword">public</span>:
<a name="l00194"></a>00194     <a class="code" href="DataPortStatus_8h.html#a71942892127d0f2995c2610b1e22ef23" title="Importing RTC::DataPortStatus macro.">DATAPORTSTATUS_ENUM</a>
<a name="l00208"></a>00208     <a class="code" href="classRTC_1_1InPortProvider.html#ac4b54074d3e8f7b0304c3f433e396971" title="Constructor.">InPortProvider</a>();
<a name="l00209"></a>00209     
<a name="l00223"></a>00223     <span class="keyword">virtual</span> <a class="code" href="classRTC_1_1InPortProvider.html#a2e6a01b019f1ae881ca974b58263d9af" title="Destructor.">~InPortProvider</a>(<span class="keywordtype">void</span>);
<a name="l00224"></a>00224 
<a name="l00252"></a>00252     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#a66c64488543761e1c8874f88fc55ff00" title="Initializing configuration.">init</a>(<a class="code" href="classcoil_1_1Properties.html" title="Class represents a set of properties.">coil::Properties</a>&amp; prop) = 0;
<a name="l00253"></a>00253 
<a name="l00279"></a>00279     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#a67b305bff0ed99a997570286922aa2ea" title="Setting outside buffer&amp;#39;s pointer.">setBuffer</a>(<a class="code" href="classRTC_1_1BufferBase.html" title="BufferBase abstract class.">BufferBase&lt;cdrMemoryStream&gt;</a>* buffer) = 0;
<a name="l00280"></a>00280 
<a name="l00311"></a>00311     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#ae3d3833c958440f7d053d52f42b59390" title="Set the listener.">setListener</a>(<a class="code" href="classRTC_1_1ConnectorInfo.html">ConnectorInfo</a>&amp; info,
<a name="l00312"></a>00312                              <a class="code" href="classRTC_1_1ConnectorListeners.html" title="ConnectorListeners class.">ConnectorListeners</a>* listeners) = 0;
<a name="l00313"></a>00313 
<a name="l00338"></a>00338     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#a3f4980d48f7588d6a85c0858f9b1a37e" title="set Connector">setConnector</a>(<a class="code" href="classRTC_1_1InPortConnector.html" title="InPortConnector base class.">InPortConnector</a>* connector) = 0;
<a name="l00339"></a>00339 
<a name="l00363"></a>00363     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#a79c8bc1476441d787f427226b0dabe80" title="Publish InterfaceProfile information.">publishInterfaceProfile</a>(SDOPackage::NVList&amp; properties);
<a name="l00364"></a>00364     
<a name="l00392"></a>00392     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classRTC_1_1InPortProvider.html#ab70dba157e6752fbac7b82470298048f" title="Publish interface information.">publishInterface</a>(SDOPackage::NVList&amp; properties);
<a name="l00393"></a>00393     
<a name="l00394"></a>00394   <span class="keyword">protected</span>:
<a name="l00412"></a>00412     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#a480771439532bebd236fe426eabfb8cb" title="Set the interface type.">setInterfaceType</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* interface_type);
<a name="l00413"></a>00413     
<a name="l00431"></a>00431     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#a07e853bb6c21227ce67b90c1b5696b21" title="Set the dataflow type.">setDataFlowType</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* dataflow_type);
<a name="l00432"></a>00432     
<a name="l00450"></a>00450     <span class="keywordtype">void</span> <a class="code" href="classRTC_1_1InPortProvider.html#ab953e133a82f81a2425d0d8f2aa4814e" title="Set the subscription type.">setSubscriptionType</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* subs_type);
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 
<a name="l00453"></a>00453   <span class="keyword">protected</span>:
<a name="l00461"></a><a class="code" href="classRTC_1_1InPortProvider.html#a2f2f84bee895b51ee72832912e0d1016">00461</a>     SDOPackage::NVList <a class="code" href="classRTC_1_1InPortProvider.html#a2f2f84bee895b51ee72832912e0d1016" title="Properties to hold port profile.">m_properties</a>;
<a name="l00462"></a>00462 
<a name="l00470"></a><a class="code" href="classRTC_1_1InPortProvider.html#a706da5fd002f498b1b54dfb47a26e83d">00470</a>     <span class="keyword">mutable</span> <a class="code" href="classRTC_1_1Logger.html" title="Logger class.">Logger</a> <a class="code" href="classRTC_1_1InPortProvider.html#a706da5fd002f498b1b54dfb47a26e83d" title="Logger stream.">rtclog</a>;
<a name="l00471"></a>00471 
<a name="l00472"></a>00472   <span class="keyword">private</span>:
<a name="l00473"></a>00473     std::string m_interfaceType;
<a name="l00474"></a>00474     std::string m_dataflowType;
<a name="l00475"></a>00475     std::string m_subscriptionType;
<a name="l00476"></a>00476 
<a name="l00477"></a>00477   <span class="keyword">public</span>:
<a name="l00478"></a>00478     <span class="comment">// functors</span>
<a name="l00486"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html">00486</a> <span class="comment"></span>    <span class="keyword">struct </span><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html" title="Functor to publish interface profile.">publishInterfaceProfileFunc</a>
<a name="l00487"></a>00487     {
<a name="l00488"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a44152ee251252826d013c08af31b178b">00488</a>       <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a44152ee251252826d013c08af31b178b">publishInterfaceProfileFunc</a>(SDOPackage::NVList&amp; prop) : <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a3164cb46caa495916feb8e70f222804b">m_prop</a>(prop) {}
<a name="l00489"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a711966bf1724cf6b95bf4b98d3b8f413">00489</a>       <span class="keywordtype">void</span> <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a711966bf1724cf6b95bf4b98d3b8f413">operator()</a>(InPortProvider* provider)
<a name="l00490"></a>00490       {
<a name="l00491"></a>00491         provider-&gt;<a class="code" href="classRTC_1_1InPortProvider.html#a79c8bc1476441d787f427226b0dabe80" title="Publish InterfaceProfile information.">publishInterfaceProfile</a>(<a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a3164cb46caa495916feb8e70f222804b">m_prop</a>);
<a name="l00492"></a>00492       }
<a name="l00493"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a3164cb46caa495916feb8e70f222804b">00493</a>       SDOPackage::NVList&amp; <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceProfileFunc.html#a3164cb46caa495916feb8e70f222804b">m_prop</a>;
<a name="l00494"></a>00494     };
<a name="l00495"></a>00495 
<a name="l00503"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html">00503</a>     <span class="keyword">struct </span><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html" title="Functor to publish interface profile.">publishInterfaceFunc</a>
<a name="l00504"></a>00504     {
<a name="l00505"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#a0aaf2ad60678f28f706ea8ffa3fb2c28">00505</a>       <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#a0aaf2ad60678f28f706ea8ffa3fb2c28">publishInterfaceFunc</a>(SDOPackage::NVList&amp; prop)
<a name="l00506"></a>00506         : <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#afd761e97df950906447efe5b3016ea66">m_prop</a>(prop), <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#ada31a5be60b2952e0b8d3de4d231317b">provider_</a>(0) {}
<a name="l00507"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#a071fc76d17508473dcea582775448a31">00507</a>       <span class="keywordtype">void</span> <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#a071fc76d17508473dcea582775448a31">operator()</a>(InPortProvider* provider)
<a name="l00508"></a>00508       {
<a name="l00509"></a>00509         <span class="keywordflow">if</span> (provider-&gt;<a class="code" href="classRTC_1_1InPortProvider.html#ab70dba157e6752fbac7b82470298048f" title="Publish interface information.">publishInterface</a>(<a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#afd761e97df950906447efe5b3016ea66">m_prop</a>))
<a name="l00510"></a>00510           {
<a name="l00511"></a>00511             <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#ada31a5be60b2952e0b8d3de4d231317b">provider_</a> = provider;
<a name="l00512"></a>00512           }
<a name="l00513"></a>00513       }
<a name="l00514"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#afd761e97df950906447efe5b3016ea66">00514</a>       SDOPackage::NVList&amp; <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#afd761e97df950906447efe5b3016ea66">m_prop</a>;
<a name="l00515"></a><a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#ada31a5be60b2952e0b8d3de4d231317b">00515</a>       InPortProvider* <a class="code" href="structRTC_1_1InPortProvider_1_1publishInterfaceFunc.html#ada31a5be60b2952e0b8d3de4d231317b">provider_</a>;
<a name="l00516"></a>00516     };
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 
<a name="l00519"></a>00519   };
<a name="l00520"></a>00520 
<a name="l00528"></a><a class="code" href="namespaceRTC.html#a90bc55e9804caa7c4cf625cdc8143973">00528</a>   typedef ::coil::GlobalFactory&lt;InPortProvider&gt; <a class="code" href="classcoil_1_1GlobalFactory.html" title="GlobalFactory template class.">InPortProviderFactory</a>;
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 <span class="preprocessor">#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)</span>
<a name="l00531"></a>00531 <span class="preprocessor"></span>  <a class="code" href="coil_2include_2coil_2Factory_8h.html#a77366c1bd428629dc898e188bfd182a3">EXTERN</a> <span class="keyword">template</span> <span class="keyword">class </span>DLL_PLUGIN ::coil::GlobalFactory&lt;InPortProvider&gt;;
<a name="l00532"></a>00532 <span class="preprocessor">#endif</span>
<a name="l00533"></a>00533 <span class="preprocessor"></span>};     <span class="comment">// namespace RTC</span>
<a name="l00534"></a>00534 <span class="preprocessor">#endif // RTC_INPORTPROVIDER_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 24 23:25:21 2012 for OpenRTM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
